(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Yd={exports:{}},bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function ib(){if($_)return bl;$_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return bl.Fragment=e,bl.jsx=n,bl.jsxs=n,bl}var X_;function rb(){return X_||(X_=1,Yd.exports=ib()),Yd.exports}var z=rb(),Qd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function sb(){if(W_)return Re;W_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,G={};function q(D,ee,oe){this.props=D,this.context=ee,this.refs=G,this.updater=oe||P}q.prototype.isReactComponent={},q.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function re(D,ee,oe){this.props=D,this.context=ee,this.refs=G,this.updater=oe||P}var ne=re.prototype=new Y;ne.constructor=re,O(ne,q.prototype),ne.isPureReactComponent=!0;var ce=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},Ae=Object.prototype.hasOwnProperty;function V(D,ee,oe,ie,pe,De){return oe=De.ref,{$$typeof:r,type:D,key:ee,ref:oe!==void 0?oe:null,props:De}}function w(D,ee){return V(D.type,ee,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return ee[oe]})}var M=/\/+/g;function L(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):ee.toString(36)}function C(){}function kt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ot(D,ee,oe,ie,pe){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case r:case e:Se=!0;break;case E:return Se=D._init,ot(Se(D._payload),ee,oe,ie,pe)}}if(Se)return pe=pe(D),Se=ie===""?"."+L(D,0):ie,ce(pe)?(oe="",Se!=null&&(oe=Se.replace(M,"$&/")+"/"),ot(pe,ee,oe,"",function(qn){return qn})):pe!=null&&(R(pe)&&(pe=w(pe,oe+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(M,"$&/")+"/")+Se)),ee.push(pe)),1;Se=0;var Ct=ie===""?".":ie+":";if(ce(D))for(var Ze=0;Ze<D.length;Ze++)ie=D[Ze],De=Ct+L(ie,Ze),Se+=ot(ie,ee,oe,De,pe);else if(Ze=S(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(ie=D.next()).done;)ie=ie.value,De=Ct+L(ie,Ze++),Se+=ot(ie,ee,oe,De,pe);else if(De==="object"){if(typeof D.then=="function")return ot(kt(D),ee,oe,ie,pe);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Se}function $(D,ee,oe){if(D==null)return D;var ie=[],pe=0;return ot(D,ie,"","",function(De){return ee.call(oe,De,pe++)}),ie}function ae(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ze(){}return Re.Children={map:$,forEach:function(D,ee,oe){$(D,function(){ee.apply(this,arguments)},oe)},count:function(D){var ee=0;return $(D,function(){ee++}),ee},toArray:function(D){return $(D,function(ee){return ee})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=q,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ue.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,ee,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=O({},D.props),pe=D.key,De=void 0;if(ee!=null)for(Se in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(pe=""+ee.key),ee)!Ae.call(ee,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ee.ref===void 0||(ie[Se]=ee[Se]);var Se=arguments.length-2;if(Se===1)ie.children=oe;else if(1<Se){for(var Ct=Array(Se),Ze=0;Ze<Se;Ze++)Ct[Ze]=arguments[Ze+2];ie.children=Ct}return V(D.type,pe,void 0,void 0,De,ie)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,ee,oe){var ie,pe={},De=null;if(ee!=null)for(ie in ee.key!==void 0&&(De=""+ee.key),ee)Ae.call(ee,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=ee[ie]);var Se=arguments.length-2;if(Se===1)pe.children=oe;else if(1<Se){for(var Ct=Array(Se),Ze=0;Ze<Se;Ze++)Ct[Ze]=arguments[Ze+2];pe.children=Ct}if(D&&D.defaultProps)for(ie in Se=D.defaultProps,Se)pe[ie]===void 0&&(pe[ie]=Se[ie]);return V(D,De,void 0,void 0,null,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=R,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ae}},Re.memo=function(D,ee){return{$$typeof:y,type:D,compare:ee===void 0?null:ee}},Re.startTransition=function(D){var ee=ue.T,oe={};ue.T=oe;try{var ie=D(),pe=ue.S;pe!==null&&pe(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ze,me)}catch(De){me(De)}finally{ue.T=ee}},Re.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Re.use=function(D){return ue.H.use(D)},Re.useActionState=function(D,ee,oe){return ue.H.useActionState(D,ee,oe)},Re.useCallback=function(D,ee){return ue.H.useCallback(D,ee)},Re.useContext=function(D){return ue.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,ee){return ue.H.useDeferredValue(D,ee)},Re.useEffect=function(D,ee,oe){var ie=ue.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(D,ee)},Re.useId=function(){return ue.H.useId()},Re.useImperativeHandle=function(D,ee,oe){return ue.H.useImperativeHandle(D,ee,oe)},Re.useInsertionEffect=function(D,ee){return ue.H.useInsertionEffect(D,ee)},Re.useLayoutEffect=function(D,ee){return ue.H.useLayoutEffect(D,ee)},Re.useMemo=function(D,ee){return ue.H.useMemo(D,ee)},Re.useOptimistic=function(D,ee){return ue.H.useOptimistic(D,ee)},Re.useReducer=function(D,ee,oe){return ue.H.useReducer(D,ee,oe)},Re.useRef=function(D){return ue.H.useRef(D)},Re.useState=function(D){return ue.H.useState(D)},Re.useSyncExternalStore=function(D,ee,oe){return ue.H.useSyncExternalStore(D,ee,oe)},Re.useTransition=function(){return ue.H.useTransition()},Re.version="19.1.0",Re}var Z_;function zm(){return Z_||(Z_=1,Qd.exports=sb()),Qd.exports}var Q=zm(),$d={exports:{}},wl={},Xd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function ab(){return J_||(J_=1,function(r){function e($,ae){var me=$.length;$.push(ae);e:for(;0<me;){var ze=me-1>>>1,D=$[ze];if(0<o(D,ae))$[ze]=ae,$[me]=D,me=ze;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],me=$.pop();if(me!==ae){$[0]=me;e:for(var ze=0,D=$.length,ee=D>>>1;ze<ee;){var oe=2*(ze+1)-1,ie=$[oe],pe=oe+1,De=$[pe];if(0>o(ie,me))pe<D&&0>o(De,ie)?($[ze]=De,$[pe]=me,ze=pe):($[ze]=ie,$[oe]=me,ze=oe);else if(pe<D&&0>o(De,me))$[ze]=De,$[pe]=me,ze=pe;else break e}}return ae}function o($,ae){var me=$.sortIndex-ae.sortIndex;return me!==0?me:$.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,S=3,P=!1,O=!1,G=!1,q=!1,Y=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ce($){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=$)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function ue($){if(G=!1,ce($),!O)if(n(p)!==null)O=!0,Ae||(Ae=!0,L());else{var ae=n(y);ae!==null&&ot(ue,ae.startTime-$)}}var Ae=!1,V=-1,w=5,R=-1;function N(){return q?!0:!(r.unstable_now()-R<w)}function M(){if(q=!1,Ae){var $=r.unstable_now();R=$;var ae=!0;try{e:{O=!1,G&&(G=!1,re(V),V=-1),P=!0;var me=S;try{t:{for(ce($),b=n(p);b!==null&&!(b.expirationTime>$&&N());){var ze=b.callback;if(typeof ze=="function"){b.callback=null,S=b.priorityLevel;var D=ze(b.expirationTime<=$);if($=r.unstable_now(),typeof D=="function"){b.callback=D,ce($),ae=!0;break t}b===n(p)&&s(p),ce($)}else s(p);b=n(p)}if(b!==null)ae=!0;else{var ee=n(y);ee!==null&&ot(ue,ee.startTime-$),ae=!1}}break e}finally{b=null,S=me,P=!1}ae=void 0}}finally{ae?L():Ae=!1}}}var L;if(typeof ne=="function")L=function(){ne(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,kt=C.port2;C.port1.onmessage=M,L=function(){kt.postMessage(null)}}else L=function(){Y(M,0)};function ot($,ae){V=Y(function(){$(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function($){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var me=S;S=ae;try{return $()}finally{S=me}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=S;S=$;try{return ae()}finally{S=me}},r.unstable_scheduleCallback=function($,ae,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,$){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,$={id:E++,callback:ae,priorityLevel:$,startTime:me,expirationTime:D,sortIndex:-1},me>ze?($.sortIndex=me,e(y,$),n(p)===null&&$===n(y)&&(G?(re(V),V=-1):G=!0,ot(ue,me-ze))):($.sortIndex=D,e(p,$),O||P||(O=!0,Ae||(Ae=!0,L()))),$},r.unstable_shouldYield=N,r.unstable_wrapCallback=function($){var ae=S;return function(){var me=S;S=ae;try{return $.apply(this,arguments)}finally{S=me}}}}(Wd)),Wd}var ev;function ob(){return ev||(ev=1,Xd.exports=ab()),Xd.exports}var Zd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function lb(){if(tv)return Yt;tv=1;var r=zm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Yt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Yt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Yt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,y){return p(y)},Yt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var nv;function ub(){if(nv)return Zd.exports;nv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zd.exports=lb(),Zd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function cb(){if(iv)return wl;iv=1;var r=ob(),e=zm(),n=ub();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function kt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case q:return"Profiler";case G:return"StrictMode";case ue:return"Suspense";case Ae:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:kt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return kt(t(i))}catch{}}return null}var ot=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],D=-1;function ee(t){return{current:t}}function oe(t){0>D||(t.current=ze[D],ze[D]=null,D--)}function ie(t,i){D++,ze[D]=t.current,t.current=i}var pe=ee(null),De=ee(null),Se=ee(null),Ct=ee(null);function Ze(t,i){switch(ie(Se,i),ie(De,t),ie(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?S_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=S_(i),t=b_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(pe),ie(pe,t)}function qn(){oe(pe),oe(De),oe(Se)}function sr(t){t.memoizedState!==null&&ie(Ct,t);var i=pe.current,a=b_(i,t.type);i!==a&&(ie(De,t),ie(pe,a))}function Ti(t){De.current===t&&(oe(pe),oe(De)),Ct.current===t&&(oe(Ct),vl._currentValue=me)}var ts=Object.prototype.hasOwnProperty,ns=r.unstable_scheduleCallback,is=r.unstable_cancelCallback,go=r.unstable_shouldYield,du=r.unstable_requestPaint,_n=r.unstable_now,Kh=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,na=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,Yh=r.unstable_LowPriority,ia=r.unstable_IdlePriority,_o=r.log,mu=r.unstable_setDisableYieldValue,lt=null,Fe=null;function ln(t){if(typeof _o=="function"&&mu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,t)}catch{}}var Gt=Math.clz32?Math.clz32:ss,pu=Math.log,Qh=Math.LN2;function ss(t){return t>>>=0,t===0?32:31-(pu(t)/Qh|0)|0}var as=256,os=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ra(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):a||(a=T&~t,a!==0&&(h=Vn(a))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=l&~t,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ls(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function vo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var t=as;return as<<=1,(as&4194048)===0&&(as=256),t}function To(){var t=os;return os<<=1,(os&62914560)===0&&(os=4194304),t}function Ai(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Si(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ao(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Gt(a),Z=1<<X;T[X]=0,I[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&Fn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Fn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function So(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function or(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:q_(t.type))}function gu(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var tt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+tt,pt="__reactProps$"+tt,vn="__reactContainer$"+tt,bo="__reactEvents$"+tt,$h="__reactListeners$"+tt,lr="__reactHandles$"+tt,yu="__reactResources$"+tt,us="__reactMarker$"+tt;function ur(t){delete t[Tt],delete t[pt],delete t[bo],delete t[$h],delete t[lr]}function bi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[vn]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=C_(t);t!==null;){if(a=t[Tt])return a;t=C_(t)}return i}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[Tt]||t[vn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Kn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Zt(t){var i=t[yu];return i||(i=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[us]=!0}var wo=new Set,aa={};function Mn(t,i){wi(t,i),wi(t+"Capture",i)}function wi(t,i){for(aa[t]=i,t=0;t<i.length;t++)wo.add(i[t])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},cs={};function Eu(t){return ts.call(cs,t)?!0:ts.call(vu,t)?!1:_u.test(t)?cs[t]=!0:(vu[t]=!0,!1)}function cr(t,i,a){if(Eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Lt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var hs,Tu;function Ri(t){if(hs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);hs=i&&i[1]||"",Tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+t+Tu}var oa=!1;function la(t,i){if(!t||oa)return"";oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var H=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){H=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){H=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{oa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ri(a):""}function Ro(t){switch(t.tag){case 26:case 27:case 5:return Ri(t.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return la(t.type,!1);case 11:return la(t.type.render,!1);case 1:return la(t.type,!0);case 31:return Ri("Activity");default:return""}}function ua(t){try{var i="";do i+=Ro(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Io(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Xh(t){var i=Io(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ca(t){t._valueTracker||(t._valueTracker=Xh(t))}function Co(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Io(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function fs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wh=/[\n"\\]/g;function gt(t){return t.replace(Wh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function un(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?hr(t,v,Jt(i)):a!=null?hr(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function ds(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function hr(t,i,a){i==="number"&&fs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ii(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ye(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function ms(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function En(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Au(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ps.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Do(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Au(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Au(t,d,i[d])}function Oo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return Jh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ci=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,Oi=null;function No(t){var i=Gn(t);if(i&&(t=i.stateNode)){var a=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(un(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Co(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ii(t,!!a.multiple,i,!1)}}}var Qn=!1;function Su(t,i,a){if(Qn)return t(i,a);Qn=!0;try{var l=t(i);return l}finally{if(Qn=!1,(Di!==null||Oi!==null)&&(gc(),Di&&(i=Di,t=Oi,Oi=Di=null,No(i),t)))for(i=0;i<t.length;i++)No(t[i])}}function gs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Pn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){An=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{An=!1}var $n=null,fr=null,Ni=null;function xo(){if(Ni)return Ni;var t,i=fr,a=i.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function Xn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Vo(){return!1}function Dt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Vo,this.isPropagationStopped=Vo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Dt(He),_s=E({},He,{view:0,detail:0}),bu=Dt(_s),da,ma,Zn,vs=E({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(da=t.screenX-Zn.screenX,ma=t.screenY-Zn.screenY):ma=da=0,Zn=t),da)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),Sn=Dt(vs),wu=E({},vs,{dataTransfer:0}),ef=Dt(wu),Es=E({},_s,{relatedTarget:0}),pa=Dt(Es),Mo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),ga=Dt(Mo),Ru=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ya=Dt(Ru),tf=E({},He,{data:0}),Po=Dt(tf),Ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ko(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Cu[t])?!!i[t]:!1}function As(){return ko}var Du=E({},_s,{key:function(t){if(t.key){var i=Ts[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(t){return t.type==="keypress"?Xn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_a=Dt(Du),Ou=E({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=Dt(Ou),xi=E({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),Nu=Dt(xi),xu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Dt(xu),Mu=E({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),va=Dt(Mu),en=E({},He,{newState:0,oldState:0}),Pu=Dt(en),ku=[9,13,27,32],Jn=Pn&&"CompositionEvent"in window,c=null;Pn&&"documentMode"in document&&(c=document.documentMode);var g=Pn&&"TextEvent"in window&&!c,_=Pn&&(!Jn||c&&8<c&&11>=c),A=" ",U=!1;function K(t,i){switch(t){case"keyup":return ku.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function At(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function ke(t,i){if(Pe)return t==="compositionend"||!Jn&&K(t,i)?(t=xo(),Ni=fr=$n=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function Vi(t,i,a,l){Di?Oi?Oi.push(l):Oi=[l]:Di=l,i=Ac(i,"onChange"),0<i.length&&(a=new fa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ut=null,ei=null;function Uo(t){__(t,0)}function Lu(t){var i=Kn(t);if(Co(i))return t}function jp(t,i){if(t==="change")return i}var zp=!1;if(Pn){var nf;if(Pn){var rf="oninput"in document;if(!rf){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),rf=typeof Bp.oninput=="function"}nf=rf}else nf=!1;zp=nf&&(!document.documentMode||9<document.documentMode)}function Hp(){Ut&&(Ut.detachEvent("onpropertychange",qp),ei=Ut=null)}function qp(t){if(t.propertyName==="value"&&Lu(ei)){var i=[];Vi(i,ei,t,Tn(t)),Su(Uo,i)}}function VA(t,i,a){t==="focusin"?(Hp(),Ut=i,ei=a,Ut.attachEvent("onpropertychange",qp)):t==="focusout"&&Hp()}function MA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(ei)}function PA(t,i){if(t==="click")return Lu(i)}function kA(t,i){if(t==="input"||t==="change")return Lu(i)}function LA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var cn=typeof Object.is=="function"?Object.is:LA;function jo(t,i){if(cn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ts.call(i,h)||!cn(t[h],i[h]))return!1}return!0}function Fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gp(t,i){var a=Fp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fp(a)}}function Kp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Kp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=fs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=fs(t.document)}return i}function sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var UA=Pn&&"documentMode"in document&&11>=document.documentMode,Ea=null,af=null,zo=null,of=!1;function Qp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||Ea==null||Ea!==fs(l)||(l=Ea,"selectionStart"in l&&sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&jo(zo,l)||(zo=l,l=Ac(af,"onSelect"),0<l.length&&(i=new fa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ea)))}function Ss(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ta={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},lf={},$p={};Pn&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function bs(t){if(lf[t])return lf[t];if(!Ta[t])return t;var i=Ta[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in $p)return lf[t]=i[a];return t}var Xp=bs("animationend"),Wp=bs("animationiteration"),Zp=bs("animationstart"),jA=bs("transitionrun"),zA=bs("transitionstart"),BA=bs("transitioncancel"),Jp=bs("transitionend"),eg=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function kn(t,i){eg.set(t,i),Mn(i,[t])}var tg=new WeakMap;function bn(t,i){if(typeof t=="object"&&t!==null){var a=tg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ua(i)},tg.set(t,i),i)}return{value:t,source:i,stack:ua(i)}}var wn=[],Aa=0,cf=0;function Uu(){for(var t=Aa,i=cf=Aa=0;i<t;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&ng(a,h,d)}}function ju(t,i,a,l){wn[Aa++]=t,wn[Aa++]=i,wn[Aa++]=a,wn[Aa++]=l,cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function hf(t,i,a,l){return ju(t,i,a,l),zu(t)}function Sa(t,i){return ju(t,null,null,i),zu(t)}function ng(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function zu(t){if(50<hl)throw hl=0,yd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ba={};function HA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,i,a,l){return new HA(t,i,a,l)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,i){var a=t.alternate;return a===null?(a=hn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ig(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")ff(t)&&(v=1);else if(typeof t=="string")v=FS(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=hn(31,a,i,h),t.elementType=R,t.lanes=d,t;case O:return ws(a.children,h,d,i);case G:v=8,h|=24;break;case q:return t=hn(12,a,i,h|2),t.elementType=q,t.lanes=d,t;case ue:return t=hn(13,a,i,h),t.elementType=ue,t.lanes=d,t;case Ae:return t=hn(19,a,i,h),t.elementType=Ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case ne:v=10;break e;case re:v=9;break e;case ce:v=11;break e;case V:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=hn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ws(t,i,a,l){return t=hn(7,t,l,i),t.lanes=a,t}function df(t,i,a){return t=hn(6,t,null,i),t.lanes=a,t}function mf(t,i,a){return i=hn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var wa=[],Ra=0,Hu=null,qu=0,Rn=[],In=0,Rs=null,Pi=1,ki="";function Is(t,i){wa[Ra++]=qu,wa[Ra++]=Hu,Hu=t,qu=i}function rg(t,i,a){Rn[In++]=Pi,Rn[In++]=ki,Rn[In++]=Rs,Rs=t;var l=Pi;t=ki;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pi=1<<32-Gt(i)+h|a<<h|l,ki=d+t}else Pi=1<<d|a<<h|l,ki=t}function pf(t){t.return!==null&&(Is(t,1),rg(t,1,0))}function gf(t){for(;t===Hu;)Hu=wa[--Ra],wa[Ra]=null,qu=wa[--Ra],wa[Ra]=null;for(;t===Rs;)Rs=Rn[--In],Rn[In]=null,ki=Rn[--In],Rn[In]=null,Pi=Rn[--In],Rn[In]=null}var tn=null,ut=null,Be=!1,Cs=null,ti=!1,yf=Error(s(519));function Ds(t){var i=Error(s(418,""));throw qo(bn(i,t)),yf}function sg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[pt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<dl.length;a++)xe(dl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ca(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),ms(i,l.value,l.defaultValue,l.children),ca(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||A_(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=Sc),i=!0):i=!1,i||Ds(t)}function ag(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:tn=tn.return}}function Bo(t){if(t!==tn)return!1;if(!Be)return ag(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vd(t.type,t.memoizedProps)),a=!a),a&&ut&&Ds(t),ag(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=Un(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Cr(t.type)?(t=Ld,Ld=null,ut=t):ut=i):ut=tn?Un(t.stateNode.nextSibling):null;return!0}function Ho(){ut=tn=null,Be=!1}function og(){var t=Cs;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),Cs=null),t}function qo(t){Cs===null?Cs=[t]:Cs.push(t)}var _f=ee(null),Os=null,Li=null;function dr(t,i,a){ie(_f,i._currentValue),i._currentValue=a}function Ui(t){t._currentValue=_f.current,oe(_f)}function vf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ef(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),vf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),vf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Fo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;cn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ct.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}h=h.return}t!==null&&Ef(i,t,a,l),i.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ns(t){Os=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return lg(Os,t)}function Gu(t,i){return Os===null&&Ns(t),lg(t,i)}function lg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Li=Li.next=i;return a}var qA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},FA=r.unstable_scheduleCallback,GA=r.unstable_NormalPriority,bt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new qA,data:new Map,refCount:0}}function Go(t){t.refCount--,t.refCount===0&&FA(GA,function(){t.controller.abort()})}var Ko=null,Af=0,Ia=0,Ca=null;function KA(t,i){if(Ko===null){var a=Ko=[];Af=0,Ia=bd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Af++,i.then(ug,ug),i}function ug(){if(--Af===0&&Ko!==null){Ca!==null&&(Ca.status="fulfilled");var t=Ko;Ko=null,Ia=0,Ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function YA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var cg=$.S;$.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&KA(t,i),cg!==null&&cg(t,i)};var xs=ee(null);function Sf(){var t=xs.current;return t!==null?t:Je.pooledCache}function Ku(t,i){i===null?ie(xs,xs.current):ie(xs,i.pool)}function hg(){var t=Sf();return t===null?null:{parent:bt._currentValue,pool:t}}var Yo=Error(s(460)),fg=Error(s(474)),Yu=Error(s(542)),bf={then:function(){}};function dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qu(){}function mg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qu,Qu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gg(t),t;default:if(typeof i.status=="string")i.then(Qu,Qu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gg(t),t}throw Qo=i,Yo}}var Qo=null;function pg(){if(Qo===null)throw Error(s(459));var t=Qo;return Qo=null,t}function gg(t){if(t===Yo||t===Yu)throw Error(s(483))}var mr=!1;function wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zu(t),ng(t,null,a),i}return ju(t,l,i,a),zu(t)}function $o(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,So(t,a)}}function If(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Cf=!1;function Xo(){if(Cf){var t=Ca;if(t!==null)throw t}}function Wo(t,i,a,l){Cf=!1;var h=t.updateQueue;mr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,X=B=I=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Le&H)===H:(l&H)===H){H!==0&&H===Ia&&(Cf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=t,ye=T;H=i;var Xe=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){Z=Te.call(Xe,Z,H);break e}Z=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,H=typeof Te=="function"?Te.call(Xe,Z,H):Te,H==null)break e;Z=E({},Z,H);break e;case 2:mr=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=F,I=Z):X=X.next=F,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),br|=v,t.lanes=v,t.memoizedState=Z}}function yg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function _g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)yg(a[t],i)}var Da=ee(null),$u=ee(0);function vg(t,i){t=Gi,ie($u,t),ie(Da,i),Gi=t|i.baseLanes}function Df(){ie($u,Gi),ie(Da,Da.current)}function Of(){Gi=$u.current,oe(Da),oe($u)}var yr=0,Ie=null,Qe=null,yt=null,Xu=!1,Oa=!1,Vs=!1,Wu=0,Zo=0,Na=null,QA=0;function ft(){throw Error(s(321))}function Nf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!cn(t[a],i[a]))return!1;return!0}function xf(t,i,a,l,h,d){return yr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?ny:iy,Vs=!1,d=a(l,h),Vs=!1,Oa&&(d=Tg(i,a,l,h)),Eg(t),d}function Eg(t){$.H=ic;var i=Qe!==null&&Qe.next!==null;if(yr=0,yt=Qe=Ie=null,Xu=!1,Zo=0,Na=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Fu(t)&&(Nt=!0))}function Tg(t,i,a,l){Ie=t;var h=0;do{if(Oa&&(Na=null),Zo=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=tS,d=i(a,l)}while(Oa);return d}function $A(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?Jo(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Vf(){var t=Wu!==0;return Wu=0,t}function Mf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Pf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}yr=0,yt=Qe=Ie=null,Oa=!1,Zo=Wu=0,Na=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=yt===null?Ie.memoizedState:yt.next;if(i!==null)yt=i,Qe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},yt===null?Ie.memoizedState=yt=t:yt=yt.next=t}return yt}function kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(t){var i=Zo;return Zo+=1,Na===null&&(Na=[]),t=mg(Na,t,i),i=Ie,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?ny:iy),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jo(t);if(t.$$typeof===ne)return Kt(t)}throw Error(s(438,String(t)))}function Lf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=kf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function ji(t,i){return typeof i=="function"?i(t):i}function Ju(t){var i=_t();return Uf(i,Qe,t)}function Uf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,X=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Le&Z)===Z:(yr&Z)===Z){var H=B.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Ia&&(X=!0);else if((yr&H)===H){B=B.next,H===Ia&&(X=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=Z,v=d):I=I.next=Z,Ie.lanes|=H,br|=H;Z=B.action,Vs&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,Ie.lanes|=Z,br|=Z;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!cn(d,t.memoizedState)&&(Nt=!0,X&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);cn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ag(t,i,a){var l=Ie,h=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!cn((Qe||h).memoizedState,a);v&&(h.memoizedState=a,Nt=!0),h=h.queue;var T=wg.bind(null,l,h,t);if(el(2048,8,T,[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,xa(9,ec(),bg.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(yr&124)!==0||Sg(l,i,a)}return a}function Sg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=kf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function bg(t,i,a,l){i.value=a,i.getSnapshot=l,Rg(i)&&Ig(t)}function wg(t,i,a){return a(function(){Rg(i)&&Ig(t)})}function Rg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!cn(t,a)}catch{return!0}}function Ig(t){var i=Sa(t,2);i!==null&&gn(i,t,2)}function zf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Vs){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},i}function Cg(t,i,a,l){return t.baseState=a,Uf(t,Qe,typeof l=="function"?l:ji)}function XA(t,i,a,l,h){if(nc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Dg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Dg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,v={};$.T=v;try{var T=a(h,l),I=$.S;I!==null&&I(v,T),Og(t,i,T)}catch(B){Bf(t,i,B)}finally{$.T=d}}else try{d=a(h,l),Og(t,i,d)}catch(B){Bf(t,i,B)}}function Og(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ng(t,i,l)},function(l){return Bf(t,i,l)}):Ng(t,i,a)}function Ng(t,i,a){i.status="fulfilled",i.value=a,xg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Dg(t,a)))}function Bf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,xg(i),i=i.next;while(i!==l)}t.action=null}function xg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Vg(t,i){return i}function Mg(t,i){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Be){if(ut){t:{for(var h=ut,d=ti;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Un(h.nextSibling),l=h.data==="F!";break e}}Ds(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:i},a.queue=l,a=Jg.bind(null,Ie,l),l.dispatch=a,l=zf(!1),d=Kf.bind(null,Ie,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=XA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Pg(t){var i=_t();return kg(i,Qe,t)}function kg(t,i,a){if(i=Uf(t,i,Vg)[0],t=Ju(ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Jo(i)}catch(v){throw v===Yo?Yu:v}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,xa(9,ec(),WA.bind(null,h,a),null)),[l,d,t]}function WA(t,i){t.action=i}function Lg(t){var i=_t(),a=Qe;if(a!==null)return kg(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function xa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=kf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ec(){return{destroy:void 0,resource:void 0}}function Ug(){return _t().memoizedState}function tc(t,i,a,l){var h=nn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=xa(1|i,ec(),a,l)}function el(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&Nf(l,Qe.memoizedState.deps)?h.memoizedState=xa(i,d,a,l):(Ie.flags|=t,h.memoizedState=xa(1|i,d,a,l))}function jg(t,i){tc(8390656,8,t,i)}function zg(t,i){el(2048,8,t,i)}function Bg(t,i){return el(4,2,t,i)}function Hg(t,i){return el(4,4,t,i)}function qg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Fg(t,i,a){a=a!=null?a.concat([t]):null,el(4,4,qg.bind(null,i,t),a)}function Hf(){}function Gg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Nf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Kg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Nf(i,l[1]))return l[0];if(l=t(),Vs){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,i],l}function qf(t,i,a){return a===void 0||(yr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=$y(),Ie.lanes|=t,br|=t,a)}function Yg(t,i,a,l){return cn(a,i)?a:Da.current!==null?(t=qf(t,a,l),cn(t,i)||(Nt=!0),t):(yr&42)===0?(Nt=!0,t.memoizedState=a):(t=$y(),Ie.lanes|=t,br|=t,i)}function Qg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=$.T,T={};$.T=T,Kf(t,!1,i,a);try{var I=h(),B=$.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=YA(I,l);tl(t,i,X,pn(t))}else tl(t,i,l,pn(t))}catch(Z){tl(t,i,{then:function(){},status:"rejected",reason:Z},pn())}finally{ae.p=d,$.T=v}}function ZA(){}function Ff(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=$g(t).queue;Qg(t,h,i,me,a===null?ZA:function(){return Xg(t),a(l)})}function $g(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Xg(t){var i=$g(t).next.queue;tl(t,i,{},pn())}function Gf(){return Kt(vl)}function Wg(){return _t().memoizedState}function Zg(){return _t().memoizedState}function JA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();t=pr(a);var l=gr(i,t,a);l!==null&&(gn(l,i,a),$o(l,i,a)),i={cache:Tf()},t.payload=i;return}i=i.return}}function eS(t,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?ey(i,a):(a=hf(t,i,a,l),a!==null&&(gn(a,t,l),ty(a,i,l)))}function Jg(t,i,a){var l=pn();tl(t,i,a,l)}function tl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))ey(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,cn(T,v))return ju(t,i,h,0),Je===null&&Uu(),!1}catch{}finally{}if(a=hf(t,i,h,l),a!==null)return gn(a,t,l),ty(a,i,l),!0}return!1}function Kf(t,i,a,l){if(l={lane:2,revertLane:bd(),action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(i)throw Error(s(479))}else i=hf(t,a,l,2),i!==null&&gn(i,t,2)}function nc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function ey(t,i){Oa=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ty(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,So(t,a)}}var ic={readContext:Kt,use:Zu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},ny={readContext:Kt,use:Zu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:jg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,tc(4194308,4,qg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return tc(4194308,4,t,i)},useInsertionEffect:function(t,i){tc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Vs){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Vs){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=eS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=zf(t);var i=t.queue,a=Jg.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,i){var a=nn();return qf(a,t,i)},useTransition:function(){var t=zf(!1);return t=Qg.bind(null,Ie,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=nn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Le&124)!==0||Sg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,jg(wg.bind(null,l,d,t),[t]),l.flags|=2048,xa(9,ec(),bg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=Je.identifierPrefix;if(Be){var a=ki,l=Pi;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=QA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Gf,useFormState:Mg,useActionState:Mg,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Lf,useCacheRefresh:function(){return nn().memoizedState=JA.bind(null,Ie)}},iy={readContext:Kt,use:Zu,useCallback:Gg,useContext:Kt,useEffect:zg,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:Hg,useMemo:Kg,useReducer:Ju,useRef:Ug,useState:function(){return Ju(ji)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=_t();return Yg(a,Qe.memoizedState,t,i)},useTransition:function(){var t=Ju(ji)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Jo(t),i]},useSyncExternalStore:Ag,useId:Wg,useHostTransitionStatus:Gf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,i){var a=_t();return Cg(a,Qe,t,i)},useMemoCache:Lf,useCacheRefresh:Zg},tS={readContext:Kt,use:Zu,useCallback:Gg,useContext:Kt,useEffect:zg,useImperativeHandle:Fg,useInsertionEffect:Bg,useLayoutEffect:Hg,useMemo:Kg,useReducer:jf,useRef:Ug,useState:function(){return jf(ji)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=_t();return Qe===null?qf(a,t,i):Yg(a,Qe.memoizedState,t,i)},useTransition:function(){var t=jf(ji)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Jo(t),i]},useSyncExternalStore:Ag,useId:Wg,useHostTransitionStatus:Gf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,i){var a=_t();return Qe!==null?Cg(a,Qe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:Zg},Va=null,nl=0;function rc(t){var i=nl;return nl+=1,Va===null&&(Va=[]),mg(Va,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sc(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ry(t){var i=t._init;return i(t._payload)}function sy(t){function i(k,x){if(t){var j=k.deletions;j===null?(k.deletions=[x],k.flags|=16):j.push(x)}}function a(k,x){if(!t)return null;for(;x!==null;)i(k,x),x=x.sibling;return null}function l(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Mi(k,x),k.index=0,k.sibling=null,k}function d(k,x,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<x?(k.flags|=67108866,x):j):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,x,j,W){return x===null||x.tag!==6?(x=df(j,k.mode,W),x.return=k,x):(x=h(x,j),x.return=k,x)}function I(k,x,j,W){var he=j.type;return he===O?X(k,x,j.props.children,W,j.key):x!==null&&(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&ry(he)===x.type)?(x=h(x,j.props),il(x,j),x.return=k,x):(x=Bu(j.type,j.key,j.props,null,k.mode,W),il(x,j),x.return=k,x)}function B(k,x,j,W){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=mf(j,k.mode,W),x.return=k,x):(x=h(x,j.children||[]),x.return=k,x)}function X(k,x,j,W,he){return x===null||x.tag!==7?(x=ws(j,k.mode,W,he),x.return=k,x):(x=h(x,j),x.return=k,x)}function Z(k,x,j){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=df(""+x,k.mode,j),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case S:return j=Bu(x.type,x.key,x.props,null,k.mode,j),il(j,x),j.return=k,j;case P:return x=mf(x,k.mode,j),x.return=k,x;case w:var W=x._init;return x=W(x._payload),Z(k,x,j)}if(ot(x)||L(x))return x=ws(x,k.mode,j,null),x.return=k,x;if(typeof x.then=="function")return Z(k,rc(x),j);if(x.$$typeof===ne)return Z(k,Gu(k,x),j);sc(k,x)}return null}function H(k,x,j,W){var he=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return he!==null?null:T(k,x,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===he?I(k,x,j,W):null;case P:return j.key===he?B(k,x,j,W):null;case w:return he=j._init,j=he(j._payload),H(k,x,j,W)}if(ot(j)||L(j))return he!==null?null:X(k,x,j,W,null);if(typeof j.then=="function")return H(k,x,rc(j),W);if(j.$$typeof===ne)return H(k,x,Gu(k,j),W);sc(k,j)}return null}function F(k,x,j,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(j)||null,T(x,k,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return k=k.get(W.key===null?j:W.key)||null,I(x,k,W,he);case P:return k=k.get(W.key===null?j:W.key)||null,B(x,k,W,he);case w:var Oe=W._init;return W=Oe(W._payload),F(k,x,j,W,he)}if(ot(W)||L(W))return k=k.get(j)||null,X(x,k,W,he,null);if(typeof W.then=="function")return F(k,x,j,rc(W),he);if(W.$$typeof===ne)return F(k,x,j,Gu(x,W),he);sc(x,W)}return null}function Te(k,x,j,W){for(var he=null,Oe=null,fe=x,_e=x=0,Vt=null;fe!==null&&_e<j.length;_e++){fe.index>_e?(Vt=fe,fe=null):Vt=fe.sibling;var je=H(k,fe,j[_e],W);if(je===null){fe===null&&(fe=Vt);break}t&&fe&&je.alternate===null&&i(k,fe),x=d(je,x,_e),Oe===null?he=je:Oe.sibling=je,Oe=je,fe=Vt}if(_e===j.length)return a(k,fe),Be&&Is(k,_e),he;if(fe===null){for(;_e<j.length;_e++)fe=Z(k,j[_e],W),fe!==null&&(x=d(fe,x,_e),Oe===null?he=fe:Oe.sibling=fe,Oe=fe);return Be&&Is(k,_e),he}for(fe=l(fe);_e<j.length;_e++)Vt=F(fe,k,_e,j[_e],W),Vt!==null&&(t&&Vt.alternate!==null&&fe.delete(Vt.key===null?_e:Vt.key),x=d(Vt,x,_e),Oe===null?he=Vt:Oe.sibling=Vt,Oe=Vt);return t&&fe.forEach(function(Vr){return i(k,Vr)}),Be&&Is(k,_e),he}function ye(k,x,j,W){if(j==null)throw Error(s(151));for(var he=null,Oe=null,fe=x,_e=x=0,Vt=null,je=j.next();fe!==null&&!je.done;_e++,je=j.next()){fe.index>_e?(Vt=fe,fe=null):Vt=fe.sibling;var Vr=H(k,fe,je.value,W);if(Vr===null){fe===null&&(fe=Vt);break}t&&fe&&Vr.alternate===null&&i(k,fe),x=d(Vr,x,_e),Oe===null?he=Vr:Oe.sibling=Vr,Oe=Vr,fe=Vt}if(je.done)return a(k,fe),Be&&Is(k,_e),he;if(fe===null){for(;!je.done;_e++,je=j.next())je=Z(k,je.value,W),je!==null&&(x=d(je,x,_e),Oe===null?he=je:Oe.sibling=je,Oe=je);return Be&&Is(k,_e),he}for(fe=l(fe);!je.done;_e++,je=j.next())je=F(fe,k,_e,je.value,W),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?_e:je.key),x=d(je,x,_e),Oe===null?he=je:Oe.sibling=je,Oe=je);return t&&fe.forEach(function(nb){return i(k,nb)}),Be&&Is(k,_e),he}function Xe(k,x,j,W){if(typeof j=="object"&&j!==null&&j.type===O&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:e:{for(var he=j.key;x!==null;){if(x.key===he){if(he=j.type,he===O){if(x.tag===7){a(k,x.sibling),W=h(x,j.props.children),W.return=k,k=W;break e}}else if(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===w&&ry(he)===x.type){a(k,x.sibling),W=h(x,j.props),il(W,j),W.return=k,k=W;break e}a(k,x);break}else i(k,x);x=x.sibling}j.type===O?(W=ws(j.props.children,k.mode,W,j.key),W.return=k,k=W):(W=Bu(j.type,j.key,j.props,null,k.mode,W),il(W,j),W.return=k,k=W)}return v(k);case P:e:{for(he=j.key;x!==null;){if(x.key===he)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){a(k,x.sibling),W=h(x,j.children||[]),W.return=k,k=W;break e}else{a(k,x);break}else i(k,x);x=x.sibling}W=mf(j,k.mode,W),W.return=k,k=W}return v(k);case w:return he=j._init,j=he(j._payload),Xe(k,x,j,W)}if(ot(j))return Te(k,x,j,W);if(L(j)){if(he=L(j),typeof he!="function")throw Error(s(150));return j=he.call(j),ye(k,x,j,W)}if(typeof j.then=="function")return Xe(k,x,rc(j),W);if(j.$$typeof===ne)return Xe(k,x,Gu(k,j),W);sc(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,x!==null&&x.tag===6?(a(k,x.sibling),W=h(x,j),W.return=k,k=W):(a(k,x),W=df(j,k.mode,W),W.return=k,k=W),v(k)):a(k,x)}return function(k,x,j,W){try{nl=0;var he=Xe(k,x,j,W);return Va=null,he}catch(fe){if(fe===Yo||fe===Yu)throw fe;var Oe=hn(29,fe,null,k.mode);return Oe.lanes=W,Oe.return=k,Oe}finally{}}}var Ma=sy(!0),ay=sy(!1),Cn=ee(null),ni=null;function _r(t){var i=t.alternate;ie(wt,wt.current&1),ie(Cn,t),ni===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(ni=t)}function oy(t){if(t.tag===22){if(ie(wt,wt.current),ie(Cn,t),ni===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ni=t)}}else vr()}function vr(){ie(wt,wt.current),ie(Cn,Cn.current)}function zi(t){oe(Cn),ni===t&&(ni=null),oe(wt)}var wt=ee(0);function ac(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||kd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Yf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=pn(),h=pr(l);h.payload=i,a!=null&&(h.callback=a),i=gr(t,h,l),i!==null&&(gn(i,t,l),$o(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=pn(),h=pr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=gr(t,h,l),i!==null&&(gn(i,t,l),$o(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=pn(),l=pr(a);l.tag=2,i!=null&&(l.callback=i),i=gr(t,l,a),i!==null&&(gn(i,t,a),$o(i,t,a))}};function ly(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!jo(a,l)||!jo(h,d):!0}function uy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Qf.enqueueReplaceState(i,i.state,null)}function Ms(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function cy(t){oc(t)}function hy(t){console.error(t)}function fy(t){oc(t)}function lc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function dy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(t,i,a){return a=pr(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(t,i)},a}function my(t){return t=pr(t),t.tag=3,t}function py(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){dy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){dy(i,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function nS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ni===null?vd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===bf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Td(t,l,h)),!1;case 22:return a.flags|=65536,l===bf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Td(t,l,h)),!1}throw Error(s(435,a.tag))}return Td(t,l,h),vd(),!1}if(Be)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==yf&&(t=Error(s(422),{cause:l}),qo(bn(t,a)))):(l!==yf&&(i=Error(s(423),{cause:l}),qo(bn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,a),h=$f(t.stateNode,l,h),If(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),cl===null?cl=[d]:cl.push(d),ct!==4&&(ct=2),i===null)return!0;l=bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=$f(a.stateNode,l,t),If(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=my(h),py(h,t,a,l),If(a,h),!1}a=a.return}while(a!==null);return!1}var gy=Error(s(461)),Nt=!1;function jt(t,i,a,l){i.child=t===null?ay(i,null,a,l):Ma(i,t.child,a,l)}function yy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ns(i),l=xf(t,i,a,v,d,h),T=Vf(),t!==null&&!Nt?(Mf(t,i,h),Bi(t,i,h)):(Be&&T&&pf(i),i.flags|=1,jt(t,i,l,h),i.child)}function _y(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ff(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,vy(t,i,d,l,h)):(t=Bu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!id(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(v,l)&&t.ref===i.ref)return Bi(t,i,h)}return i.flags|=1,t=Mi(d,l),t.ref=i.ref,t.return=i,i.child=t}function vy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(jo(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,id(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Bi(t,i,h)}return Xf(t,i,a,l,h)}function Ey(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ty(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(i,d!==null?d.cachePool:null),d!==null?vg(i,d):Df(),oy(i);else return i.lanes=i.childLanes=536870912,Ty(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ku(i,d.cachePool),vg(i,d),vr(),i.memoizedState=null):(t!==null&&Ku(i,null),Df(),vr());return jt(t,i,h,a),i.child}function Ty(t,i,a,l){var h=Sf();return h=h===null?null:{parent:bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ku(i,null),Df(),oy(i),t!==null&&Fo(t,i,l,!0),null}function uc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Xf(t,i,a,l,h){return Ns(i),a=xf(t,i,a,l,void 0,h),l=Vf(),t!==null&&!Nt?(Mf(t,i,h),Bi(t,i,h)):(Be&&l&&pf(i),i.flags|=1,jt(t,i,a,h),i.child)}function Ay(t,i,a,l,h,d){return Ns(i),i.updateQueue=null,a=Tg(i,l,a,h),Eg(t),l=Vf(),t!==null&&!Nt?(Mf(t,i,d),Bi(t,i,d)):(Be&&l&&pf(i),i.flags|=1,jt(t,i,a,d),i.child)}function Sy(t,i,a,l,h){if(Ns(i),i.stateNode===null){var d=ba,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):ba,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Yf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Qf.enqueueReplaceState(d,d.state,null),Wo(i,l,d,h),Xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Ms(a,T);d.props=I;var B=d.context,X=a.contextType;v=ba,typeof X=="object"&&X!==null&&(v=Kt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&uy(i,d,l,v),mr=!1;var H=i.memoizedState;d.state=H,Wo(i,l,d,h),Xo(),B=i.memoizedState,T||H!==B||mr?(typeof Z=="function"&&(Yf(i,a,Z,l),B=i.memoizedState),(I=mr||ly(i,a,I,l,H,B,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(t,i),v=i.memoizedProps,X=Ms(a,v),d.props=X,Z=i.pendingProps,H=d.context,B=a.contextType,I=ba,typeof B=="object"&&B!==null&&(I=Kt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==I)&&uy(i,d,l,I),mr=!1,H=i.memoizedState,d.state=H,Wo(i,l,d,h),Xo();var F=i.memoizedState;v!==Z||H!==F||mr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof T=="function"&&(Yf(i,a,T,l),F=i.memoizedState),(X=mr||ly(i,a,X,l,H,F,I)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ma(i,t.child,null,h),i.child=Ma(i,null,a,h)):jt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Bi(t,i,h),t}function by(t,i,a,l){return Ho(),i.flags|=256,jt(t,i,a,l),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(t){return{baseLanes:t,cachePool:hg()}}function Jf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function wy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?_r(i):vr(),Be){var T=ut,I;if(I=T){e:{for(I=T,T=ti;I.nodeType!==8;){if(!T){T=null;break e}if(I=Un(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Rs!==null?{id:Pi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},I=hn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,tn=i,ut=null,I=!0):I=!1}I||Ds(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return kd(T)?i.lanes=32:i.lanes=536870912,null;zi(i)}return T=l.children,l=l.fallback,h?(vr(),h=i.mode,T=cc({mode:"hidden",children:T},h),l=ws(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Zf(a),h.childLanes=Jf(t,v,a),i.memoizedState=Wf,l):(_r(i),ed(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(_r(i),i.flags&=-257,i=td(t,i,a)):i.memoizedState!==null?(vr(),i.child=t.child,i.flags|=128,i=null):(vr(),h=l.fallback,T=i.mode,l=cc({mode:"visible",children:l.children},T),h=ws(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ma(i,t.child,null,a),l=i.child,l.memoizedState=Zf(a),l.childLanes=Jf(t,v,a),i.memoizedState=Wf,i=h);else if(_r(i),kd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,qo({value:l,source:null,stack:null}),i=td(t,i,a)}else if(Nt||Fo(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:ar(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Sa(t,l),gn(v,t,l),gy;T.data==="$?"||vd(),i=td(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ut=Un(T.nextSibling),tn=i,Be=!0,Cs=null,ti=!1,t!==null&&(Rn[In++]=Pi,Rn[In++]=ki,Rn[In++]=Rs,Pi=t.id,ki=t.overflow,Rs=i),i=ed(i,l.children),i.flags|=4096);return i}return h?(vr(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=Mi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Mi(B,h):(h=ws(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Zf(a):(I=T.cachePool,I!==null?(B=bt._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=hg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Jf(t,v,a),i.memoizedState=Wf,l):(_r(i),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function ed(t,i){return i=cc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function cc(t,i){return t=hn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function td(t,i,a){return Ma(i,t.child,null,a),t=ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ry(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),vf(t.return,i,a)}function nd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Iy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,i,l.children,a),l=wt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,i);else if(t.tag===19)Ry(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(wt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),nd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}nd(i,!0,a,null,d);break;case"together":nd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Bi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),br|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Fo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Mi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function id(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function iS(t,i,a){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),dr(i,bt,t.memoizedState.cache),Ho();break;case 27:case 5:sr(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:dr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(_r(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wy(t,i,a):(_r(i),t=Bi(t,i,a),t!==null?t.sibling:null);_r(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Iy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(wt,wt.current),l)break;return null;case 22:case 23:return i.lanes=0,Ey(t,i,a);case 24:dr(i,bt,t.memoizedState.cache)}return Bi(t,i,a)}function Cy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!id(t,a)&&(i.flags&128)===0)return Nt=!1,iS(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&rg(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")ff(l)?(t=Ms(l,t),i.tag=1,i=Sy(null,i,l,t,a)):(i.tag=0,i=Xf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ce){i.tag=11,i=yy(null,i,l,t,a);break e}else if(h===V){i.tag=14,i=_y(null,i,l,t,a);break e}}throw i=kt(l)||l,Error(s(306,i,""))}}return i;case 0:return Xf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ms(l,i.pendingProps),Sy(t,i,l,h,a);case 3:e:{if(Ze(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Rf(t,i),Wo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,dr(i,bt,l),l!==d.cache&&Ef(i,[bt],a,!0),Xo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=by(t,i,l,a);break e}else if(l!==h){h=bn(Error(s(424)),i),qo(h),i=by(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Un(t.firstChild),tn=i,Be=!0,Cs=null,ti=!0,a=ay(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ho(),l===h){i=Bi(t,i,a);break e}jt(t,i,l,a)}i=i.child}return i;case 26:return uc(t,i),t===null?(a=x_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=bc(Se.current).createElement(a),l[Tt]=i,l[pt]=t,Bt(l,a,t),ht(l),i.stateNode=l):i.memoizedState=x_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return sr(i),t===null&&Be&&(l=i.stateNode=D_(i.type,i.pendingProps,Se.current),tn=i,ti=!0,h=ut,Cr(i.type)?(Ld=h,ut=Un(l.firstChild)):ut=h),jt(t,i,i.pendingProps.children,a),uc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ut)&&(l=NS(l,i.type,i.pendingProps,ti),l!==null?(i.stateNode=l,tn=i,ut=Un(l.firstChild),ti=!1,h=!0):h=!1),h||Ds(i)),sr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Vd(h,d)?l=null:v!==null&&Vd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(t,i,$A,null,null,a),vl._currentValue=h),uc(t,i),jt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ut)&&(a=xS(a,i.pendingProps,ti),a!==null?(i.stateNode=a,tn=i,ut=null,t=!0):t=!1),t||Ds(i)),null;case 13:return wy(t,i,a);case 4:return Ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ma(i,null,l,a):jt(t,i,l,a),i.child;case 11:return yy(t,i,i.type,i.pendingProps,a);case 7:return jt(t,i,i.pendingProps,a),i.child;case 8:return jt(t,i,i.pendingProps.children,a),i.child;case 12:return jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,dr(i,i.type,l.value),jt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ns(i),h=Kt(h),l=l(h),i.flags|=1,jt(t,i,l,a),i.child;case 14:return _y(t,i,i.type,i.pendingProps,a);case 15:return vy(t,i,i.type,i.pendingProps,a);case 19:return Iy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=cc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Mi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ey(t,i,a);case 24:return Ns(i),l=Kt(bt),t===null?(h=Sf(),h===null&&(h=Je,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),dr(i,bt,h)):((t.lanes&a)!==0&&(Rf(t,i),Wo(i,null,null,a),Xo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),dr(i,bt,l)):(l=d.cache,dr(i,bt,l),l!==h.cache&&Ef(i,[bt],a,!0))),jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(t){t.flags|=4}function Dy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!L_(i)){if(i=Cn.current,i!==null&&((Le&4194048)===Le?ni!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ni))throw Qo=bf,fg;t.flags|=8192}}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?To():536870912,t.lanes|=i,Ua|=i)}function rl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function rS(t,i,a){var l=i.pendingProps;switch(gf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ui(bt),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Bo(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,og())),it(i),null;case 26:return a=i.memoizedState,t===null?(Hi(i),a!==null?(it(i),Dy(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Hi(i),it(i),Dy(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&Hi(i),it(i),i.flags&=-16777217),null;case 27:Ti(i),a=Se.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=pe.current,Bo(i)?sg(i):(t=D_(h,l,a),i.stateNode=t,Hi(i))}return it(i),null;case 5:if(Ti(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=pe.current,Bo(i))sg(i);else{switch(h=bc(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Tt]=i,t[pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hi(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,Bo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||A_(t.nodeValue,a)),t||Ds(i)}else t=bc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Bo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else Ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=og(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(zi(i),i):(zi(i),null)}if(zi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),it(i),null;case 4:return qn(),t===null&&Cd(i.stateNode.containerInfo),it(i),null;case 10:return Ui(i.type),it(i),null;case 19:if(oe(wt),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)rl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ac(t),d!==null){for(i.flags|=128,rl(h,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ig(a,t),a=a.sibling;return ie(wt,wt.current&1|2),i.child}t=t.sibling}h.tail!==null&&_n()>mc&&(i.flags|=128,l=!0,rl(h,!1),i.lanes=4194304)}else{if(!l)if(t=ac(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),rl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return it(i),null}else 2*_n()-h.renderingStartTime>mc&&a!==536870912&&(i.flags|=128,l=!0,rl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=_n(),i.sibling=null,t=wt.current,ie(wt,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return zi(i),Of(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ui(bt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function sS(t,i){switch(gf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ui(bt),qn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ti(i),null;case 13:if(zi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ho()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(wt),null;case 4:return qn(),null;case 10:return Ui(i.type),null;case 22:case 23:return zi(i),Of(),t!==null&&oe(xs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ui(bt),null;case 25:return null;default:return null}}function Oy(t,i){switch(gf(i),i.tag){case 3:Ui(bt),qn();break;case 26:case 27:case 5:Ti(i);break;case 4:qn();break;case 13:zi(i);break;case 19:oe(wt);break;case 10:Ui(i.type);break;case 22:case 23:zi(i),Of(),t!==null&&oe(xs);break;case 24:Ui(bt)}}function sl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function Er(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(X){We(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){We(i,i.return,X)}}function Ny(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{_g(i,a)}catch(l){We(t,t.return,l)}}}function xy(t,i,a){a.props=Ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function al(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function Vy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function rd(t,i,a){try{var l=t.stateNode;RS(l,t.type,a,i),l[pt]=i}catch(h){We(t,t.return,h)}}function My(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Cr(t.type)||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||My(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Sc));else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ad(t,i,a),t=t.sibling;t!==null;)ad(t,i,a),t=t.sibling}function fc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,i,a),t=t.sibling;t!==null;)fc(t,i,a),t=t.sibling}function Py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bt(i,l,a),i[Tt]=t,i[pt]=a}catch(d){We(t,t.return,d)}}var qi=!1,dt=!1,od=!1,ky=typeof WeakSet=="function"?WeakSet:Set,xt=null;function aS(t,i){if(t=t.containerInfo,Nd=Oc,t=Yp(t),sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,X=0,Z=t,H=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)H=Z,Z=F;for(;;){if(Z===t)break t;if(H===a&&++B===h&&(T=v),H===d&&++X===l&&(I=v),(F=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},Oc=!1,xt=i;xt!==null;)if(i=xt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,xt=t;else for(;xt!==null;){switch(i=xt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Ms(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,xt=t;break}xt=i.return}}function Ly(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(t,a),l&4&&sl(5,a);break;case 1:if(Tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Ms(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&Ny(a),l&512&&al(a,a.return);break;case 3:if(Tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{_g(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&Py(a);case 26:case 5:Tr(t,a),i===null&&l&4&&Vy(a),l&512&&al(a,a.return);break;case 12:Tr(t,a);break;case 13:Tr(t,a),l&4&&zy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pS.bind(null,a),VS(t,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){i=i!==null&&i.memoizedState!==null||dt,h=qi;var d=dt;qi=l,(dt=i)&&!d?Ar(t,a,(a.subtreeFlags&8772)!==0):Tr(t,a),qi=h,dt=d}break;case 30:break;default:Tr(t,a)}}function Uy(t){var i=t.alternate;i!==null&&(t.alternate=null,Uy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ur(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,rn=!1;function Fi(t,i,a){for(a=a.child;a!==null;)jy(t,i,a),a=a.sibling}function jy(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||ii(a,i),Fi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||ii(a,i);var l=nt,h=rn;Cr(a.type)&&(nt=a.stateNode,rn=!1),Fi(t,i,a),pl(a.stateNode),nt=l,rn=h;break;case 5:dt||ii(a,i);case 6:if(l=nt,h=rn,nt=null,Fi(t,i,a),nt=l,rn=h,nt!==null)if(rn)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{nt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:nt!==null&&(rn?(t=nt,I_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Sl(t)):I_(nt,a.stateNode));break;case 4:l=nt,h=rn,nt=a.stateNode.containerInfo,rn=!0,Fi(t,i,a),nt=l,rn=h;break;case 0:case 11:case 14:case 15:dt||Er(2,a,i),dt||Er(4,a,i),Fi(t,i,a);break;case 1:dt||(ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xy(a,i,l)),Fi(t,i,a);break;case 21:Fi(t,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Fi(t,i,a),dt=l;break;default:Fi(t,i,a)}}function zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Sl(t)}catch(a){We(i,i.return,a)}}function oS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ky),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ky),i;default:throw Error(s(435,t.tag))}}function ld(t,i){var a=oS(t);i.forEach(function(l){var h=gS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Cr(T.type)){nt=T.stateNode,rn=!1;break e}break;case 5:nt=T.stateNode,rn=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,rn=!0;break e}T=T.return}if(nt===null)throw Error(s(160));jy(d,v,h),nt=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)By(i,t),i=i.sibling}var Ln=null;function By(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(Er(3,t,t.return),sl(3,t),Er(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(dt||a===null||ii(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(fn(i,t),dn(t),l&512&&(dt||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[us]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[Tt]=t,ht(d),l=d;break e;case"link":var v=P_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=P_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,ht(d),l=d}t.stateNode=l}else k_(h,t.type,t.stateNode);else t.stateNode=M_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?k_(h,t.type,t.stateNode):M_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(dt||a===null||ii(a,a.return)),a!==null&&l&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(dt||a===null||ii(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(F){We(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(od=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){We(t,t.return,F)}}break;case 3:if(Ic=null,h=Ln,Ln=wc(i.containerInfo),fn(i,t),Ln=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(i.containerInfo)}catch(F){We(t,t.return,F)}od&&(od=!1,Hy(t));break;case 4:l=Ln,Ln=wc(t.stateNode.containerInfo),fn(i,t),dn(t),Ln=l;break;case 12:fn(i,t),dn(t);break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(md=_n()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ld(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=qi,X=dt;if(qi=B||h,dt=X||I,fn(i,t),dt=X,qi=B,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||qi||dt||Ps(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){We(I,I.return,F)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(F){We(I,I.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ld(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ld(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(My(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=sd(t);fc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(En(v,""),a.flags&=-33);var T=sd(t);fc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=sd(t);ad(t,B,I);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ly(t,i.alternate,i),i=i.sibling}function Ps(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Er(4,i,i.return),Ps(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&xy(i,i.return,a),Ps(i);break;case 27:pl(i.stateNode);case 26:case 5:ii(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}t=t.sibling}}function Ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),sl(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)yg(I[h],T)}catch(B){We(l,l.return,B)}}a&&v&64&&Ny(d),al(d,d.return);break;case 27:Py(d);case 26:case 5:Ar(h,d,a),a&&l===null&&v&4&&Vy(d),al(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&zy(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),al(d,d.return);break;case 30:break;default:Ar(h,d,a)}i=i.sibling}}function ud(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Go(a))}function cd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Go(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)qy(t,i,a,l),i=i.sibling}function qy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&sl(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Go(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(i,i.return,I)}}else ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):ol(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,Pa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ud(v,i);break;case 24:ri(t,i,a,l),h&2048&&cd(i.alternate,i);break;default:ri(t,i,a,l)}}function Pa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Pa(d,v,T,I,h),sl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Pa(d,v,T,I,h):ol(d,v):(X._visibility|=2,Pa(d,v,T,I,h)),h&&B&2048&&ud(v.alternate,v);break;case 24:Pa(d,v,T,I,h),h&&B&2048&&cd(v.alternate,v);break;default:Pa(d,v,T,I,h)}i=i.sibling}}function ol(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:ol(a,l),h&2048&&ud(l.alternate,l);break;case 24:ol(a,l),h&2048&&cd(l.alternate,l);break;default:ol(a,l)}i=i.sibling}}var ll=8192;function ka(t){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)Fy(t),t=t.sibling}function Fy(t){switch(t.tag){case 26:ka(t),t.flags&ll&&t.memoizedState!==null&&KS(Ln,t.memoizedState,t.memoizedProps);break;case 5:ka(t);break;case 3:case 4:var i=Ln;Ln=wc(t.stateNode.containerInfo),ka(t),Ln=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ll,ll=16777216,ka(t),ll=i):ka(t));break;default:ka(t)}}function Gy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ul(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,Yy(l,t)}Gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&Er(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,dc(t)):ul(t);break;default:ul(t)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,Yy(l,t)}Gy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Er(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}t=t.sibling}}function Yy(t,i){for(;xt!==null;){var a=xt;switch(a.tag){case 0:case 11:case 15:Er(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Go(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xt=l;else e:for(a=t;xt!==null;){l=xt;var h=l.sibling,d=l.return;if(Uy(l),l===a){xt=null;break e}if(h!==null){h.return=d,xt=h;break e}xt=d}}}var lS={getCacheForType:function(t){var i=Kt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},uS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,Ne=null,Le=0,Ke=0,mn=null,Sr=!1,La=!1,hd=!1,Gi=0,ct=0,br=0,ks=0,fd=0,Dn=0,Ua=0,cl=null,sn=null,dd=!1,md=0,mc=1/0,pc=null,wr=null,zt=0,Rr=null,ja=null,za=0,pd=0,gd=null,Qy=null,hl=0,yd=null;function pn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if($.T!==null){var t=Ia;return t!==0?t:bd()}return or()}function $y(){Dn===0&&(Dn=(Le&536870912)===0||Be?Eo():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Dn}function gn(t,i,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Ir(t,Le,Dn,!1)),Si(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(ks|=a),ct===4&&Ir(t,Le,Dn,!1)),si(t))}function Xy(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ls(t,i),h=l?fS(t,i):Ed(t,i,!0),d=l;do{if(h===0){La&&!l&&Ir(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!cS(a)){h=Ed(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=cl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ba(T,v).flags|=256),v=Ed(T,v,!1),v!==2){if(hd&&!I){T.errorRecoveryDisabledLanes|=d,ks|=d,h=4;break e}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Ir(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ir(l,i,Dn,!Sr);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=md+300-_n(),10<h)){if(Ir(l,i,Dn,!Sr),ra(l,0,!0)!==0)break e;l.timeoutHandle=w_(Wy.bind(null,l,a,sn,pc,dd,i,Dn,ks,Ua,Sr,d,2,-0,0),h);break e}Wy(l,a,sn,pc,dd,i,Dn,ks,Ua,Sr,d,0,-0,0)}}break}while(!0);si(t)}function Wy(t,i,a,l,h,d,v,T,I,B,X,Z,H,F){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(_l={stylesheets:null,count:0,unsuspend:GS},Fy(i),Z=YS(),Z!==null)){t.cancelPendingCommit=Z(r_.bind(null,t,i,d,a,l,h,v,T,I,X,1,H,F)),Ir(t,d,v,!B);return}r_(t,i,d,a,l,h,v,T,I)}function cS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ir(t,i,a,l){i&=~fd,i&=~ks,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Fn(t,a,i)}function gc(){return(Ge&6)===0?(fl(0),!1):!0}function _d(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Li=Os=null,Pf(t),Va=null,nl=0,t=Ne;for(;t!==null;)Oy(t.alternate,t),t=t.return;Ne=null}}function Ba(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_d(),Je=t,Ne=a=Mi(t.current,null),Le=i,Ke=0,mn=null,Sr=!1,La=ls(t,i),hd=!1,Ua=Dn=fd=ks=br=ct=0,sn=cl=null,dd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Gt(l),d=1<<h;i|=t[h],l&=~d}return Gi=i,Uu(),a}function Zy(t,i){Ie=null,$.H=ic,i===Yo||i===Yu?(i=pg(),Ke=3):i===fg?(i=pg(),Ke=4):Ke=i===gy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Ne===null&&(ct=1,lc(t,bn(i,t.current)))}function Jy(){var t=$.H;return $.H=ic,t===null?ic:t}function e_(){var t=$.A;return $.A=lS,t}function vd(){ct=4,Sr||(Le&4194048)!==Le&&Cn.current!==null||(La=!0),(br&134217727)===0&&(ks&134217727)===0||Je===null||Ir(Je,Le,Dn,!1)}function Ed(t,i,a){var l=Ge;Ge|=2;var h=Jy(),d=e_();(Je!==t||Le!==i)&&(pc=null,Ba(t,i)),i=!1;var v=ct;e:do try{if(Ke!==0&&Ne!==null){var T=Ne,I=mn;switch(Ke){case 8:_d(),v=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var B=Ke;if(Ke=0,mn=null,Ha(t,T,I,B),a&&La){v=0;break e}break;default:B=Ke,Ke=0,mn=null,Ha(t,T,I,B)}}hS(),v=ct;break}catch(X){Zy(t,X)}while(!0);return i&&t.shellSuspendCounter++,Li=Os=null,Ge=l,$.H=h,$.A=d,Ne===null&&(Je=null,Le=0,Uu()),v}function hS(){for(;Ne!==null;)t_(Ne)}function fS(t,i){var a=Ge;Ge|=2;var l=Jy(),h=e_();Je!==t||Le!==i?(pc=null,mc=_n()+500,Ba(t,i)):La=ls(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=mn;t:switch(Ke){case 1:Ke=0,mn=null,Ha(t,i,d,1);break;case 2:case 9:if(dg(d)){Ke=0,mn=null,n_(i);break}i=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),si(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:dg(d)?(Ke=0,mn=null,n_(i)):(Ke=0,mn=null,Ha(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||L_(v)){Ke=0,mn=null;var I=T.sibling;if(I!==null)Ne=I;else{var B=T.return;B!==null?(Ne=B,yc(B)):Ne=null}break t}}Ke=0,mn=null,Ha(t,i,d,5);break;case 6:Ke=0,mn=null,Ha(t,i,d,6);break;case 8:_d(),ct=6;break e;default:throw Error(s(462))}}dS();break}catch(X){Zy(t,X)}while(!0);return Li=Os=null,$.H=l,$.A=h,Ge=a,Ne!==null?0:(Je=null,Le=0,Uu(),ct)}function dS(){for(;Ne!==null&&!go();)t_(Ne)}function t_(t){var i=Cy(t.alternate,t,Gi);t.memoizedProps=t.pendingProps,i===null?yc(t):Ne=i}function n_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ay(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Ay(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Pf(i);default:Oy(a,i),i=Ne=ig(i,Gi),i=Cy(a,i,Gi)}t.memoizedProps=t.pendingProps,i===null?yc(t):Ne=i}function Ha(t,i,a,l){Li=Os=null,Pf(i),Va=null,nl=0;var h=i.return;try{if(nS(t,h,i,a,Le)){ct=1,lc(t,bn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ct=1,lc(t,bn(a,t.current)),Ne=null;return}i.flags&32768?(Be||l===1?t=!0:La||(Le&536870912)!==0?t=!1:(Sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),i_(i,t)):yc(i)}function yc(t){var i=t;do{if((i.flags&32768)!==0){i_(i,Sr);return}t=i.return;var a=rS(i.alternate,i,Gi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ct===0&&(ct=5)}function i_(t,i){do{var a=sS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ct=6,Ne=null}function r_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do _c();while(zt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=cf,Ao(t,a,d,v,T,I),t===Je&&(Ne=Je=null,Le=0),ja=i,Rr=t,za=a,pd=d,gd=h,Qy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yS(rs,function(){return u_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{aS(t,i,a)}finally{Ge=v,ae.p=h,$.T=l}}zt=1,s_(),a_(),o_()}}function s_(){if(zt===1){zt=0;var t=Rr,i=ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{By(i,t);var d=xd,v=Yp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Kp(T.ownerDocument.documentElement,T)){if(I!==null&&sf(T)){var B=I.start,X=I.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var F=H.getSelection(),Te=T.textContent.length,ye=Math.min(I.start,Te),Xe=I.end===void 0?ye:Math.min(I.end,Te);!F.extend&&ye>Xe&&(v=Xe,Xe=ye,ye=v);var k=Gp(T,ye),x=Gp(T,Xe);if(k&&x&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var j=Z.createRange();j.setStart(k.node,k.offset),F.removeAllRanges(),ye>Xe?(F.addRange(j),F.extend(x.node,x.offset)):(j.setEnd(x.node,x.offset),F.addRange(j))}}}}for(Z=[],F=T;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var W=Z[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Oc=!!Nd,xd=Nd=null}finally{Ge=h,ae.p=l,$.T=a}}t.current=i,zt=2}}function a_(){if(zt===2){zt=0;var t=Rr,i=ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Ly(t,i.alternate,i)}finally{Ge=h,ae.p=l,$.T=a}}zt=3}}function o_(){if(zt===4||zt===3){zt=0,du();var t=Rr,i=ja,a=za,l=Qy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,ja=Rr=null,l_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(wr=null),sa(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{$.T=i,ae.p=h}}(za&3)!==0&&_c(),si(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===yd?hl++:(hl=0,yd=t):hl=0,fl(0)}}function l_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Go(i)))}function _c(t){return s_(),a_(),o_(),u_()}function u_(){if(zt!==5)return!1;var t=Rr,i=pd;pd=0;var a=sa(za),l=$.T,h=ae.p;try{ae.p=32>a?32:a,$.T=null,a=gd,gd=null;var d=Rr,v=za;if(zt=0,ja=Rr=null,za=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,Ky(d.current),qy(d,d.current,v,a),Ge=T,fl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{ae.p=h,$.T=l,l_(t,i)}}function c_(t,i,a){i=bn(a,i),i=$f(t.stateNode,i,2),t=gr(t,i,2),t!==null&&(Si(t,2),si(t))}function We(t,i,a){if(t.tag===3)c_(t,t,a);else for(;i!==null;){if(i.tag===3){c_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){t=bn(a,t),a=my(2),l=gr(i,a,2),l!==null&&(py(a,l,i,t),Si(l,2),si(l));break}}i=i.return}}function Td(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new uS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(hd=!0,h.add(a),t=mS.bind(null,t,i,a),i.then(t,t))}function mS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>_n()-md?(Ge&2)===0&&Ba(t,0):fd|=a,Ua===Le&&(Ua=0)),si(t)}function h_(t,i){i===0&&(i=To()),t=Sa(t,i),t!==null&&(Si(t,i),si(t))}function pS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),h_(t,a)}function gS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),h_(t,a)}function yS(t,i){return ns(t,i)}var vc=null,qa=null,Ad=!1,Ec=!1,Sd=!1,Ls=0;function si(t){t!==qa&&t.next===null&&(qa===null?vc=qa=t:qa=qa.next=t),Ec=!0,Ad||(Ad=!0,vS())}function fl(t,i){if(!Sd&&Ec){Sd=!0;do for(var a=!1,l=vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,p_(l,d))}else d=Le,d=ra(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ls(l,d)||(a=!0,p_(l,d));l=l.next}while(a);Sd=!1}}function _S(){f_()}function f_(){Ec=Ad=!1;var t=0;Ls!==0&&(IS()&&(t=Ls),Ls=0);for(var i=_n(),a=null,l=vc;l!==null;){var h=l.next,d=d_(l,i);d===0?(l.next=null,a===null?vc=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Ec=!0)),l=h}fl(t)}function d_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=vo(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,a=Le,a=ra(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&is(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ls(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&is(l),sa(a)){case 2:case 8:a=na;break;case 32:a=rs;break;case 268435456:a=ia;break;default:a=rs}return l=m_.bind(null,t),a=ns(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&is(l),t.callbackPriority=2,t.callbackNode=null,2}function m_(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_c()&&t.callbackNode!==a)return null;var l=Le;return l=ra(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xy(t,l,i),d_(t,_n()),t.callbackNode!=null&&t.callbackNode===a?m_.bind(null,t):null)}function p_(t,i){if(_c())return null;Xy(t,i,!0)}function vS(){DS(function(){(Ge&6)!==0?ns(yo,_S):f_()})}function bd(){return Ls===0&&(Ls=Eo()),Ls}function g_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function y_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ES(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=g_((h[pt]||null).action),v=l.submitter;v&&(i=(i=v[pt]||null)?g_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new fa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var I=v?y_(h,v):new FormData(h);Ff(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?y_(h,v):new FormData(h),Ff(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var wd=0;wd<uf.length;wd++){var Rd=uf[wd],TS=Rd.toLowerCase(),AS=Rd[0].toUpperCase()+Rd.slice(1);kn(TS,"on"+AS)}kn(Xp,"onAnimationEnd"),kn(Wp,"onAnimationIteration"),kn(Zp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(jA,"onTransitionRun"),kn(zA,"onTransitionStart"),kn(BA,"onTransitionCancel"),kn(Jp,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function __(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){oc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(X){oc(X)}h.currentTarget=null,d=I}}}}function xe(t,i){var a=i[bo];a===void 0&&(a=i[bo]=new Set);var l=t+"__bubble";a.has(l)||(v_(i,t,2,!1),a.add(l))}function Id(t,i,a){var l=0;i&&(l|=4),v_(a,t,l,i)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[Tc]){t[Tc]=!0,wo.forEach(function(a){a!=="selectionchange"&&(SS.has(a)||Id(a,!1,t),Id(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Tc]||(i[Tc]=!0,Id("selectionchange",!1,i))}}function v_(t,i,a,l){switch(q_(i)){case 2:var h=XS;break;case 8:h=WS;break;default:h=Hd}a=h.bind(null,i,a,t),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Dd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=bi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Su(function(){var B=d,X=Tn(a),Z=[];e:{var H=eg.get(t);if(H!==void 0){var F=fa,Te=t;switch(t){case"keypress":if(Xn(a)===0)break e;case"keydown":case"keyup":F=_a;break;case"focusin":Te="focus",F=pa;break;case"focusout":Te="blur",F=pa;break;case"beforeblur":case"afterblur":F=pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Nu;break;case Xp:case Wp:case Zp:F=ga;break;case Jp:F=Vu;break;case"scroll":case"scrollend":F=bu;break;case"wheel":F=va;break;case"copy":case"cut":case"paste":F=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Lo;break;case"toggle":case"beforetoggle":F=Pu}var ye=(i&4)!==0,Xe=!ye&&(t==="scroll"||t==="scrollend"),k=ye?H!==null?H+"Capture":null:H;ye=[];for(var x=B,j;x!==null;){var W=x;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||k===null||(W=gs(x,k),W!=null&&ye.push(ml(x,W,j))),Xe)break;x=x.return}0<ye.length&&(H=new F(H,Te,null,a,X),Z.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Ci&&(Te=a.relatedTarget||a.fromElement)&&(bi(Te)||Te[vn]))break e;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=B,Te=Te?bi(Te):null,Te!==null&&(Xe=u(Te),ye=Te.tag,Te!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(F=null,Te=B),F!==Te)){if(ye=Sn,W="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Lo,W="onPointerLeave",k="onPointerEnter",x="pointer"),Xe=F==null?H:Kn(F),j=Te==null?H:Kn(Te),H=new ye(W,x+"leave",F,a,X),H.target=Xe,H.relatedTarget=j,W=null,bi(X)===B&&(ye=new ye(k,x+"enter",Te,a,X),ye.target=j,ye.relatedTarget=Xe,W=ye),Xe=W,F&&Te)t:{for(ye=F,k=Te,x=0,j=ye;j;j=Fa(j))x++;for(j=0,W=k;W;W=Fa(W))j++;for(;0<x-j;)ye=Fa(ye),x--;for(;0<j-x;)k=Fa(k),j--;for(;x--;){if(ye===k||k!==null&&ye===k.alternate)break t;ye=Fa(ye),k=Fa(k)}ye=null}else ye=null;F!==null&&E_(Z,H,F,ye,!1),Te!==null&&Xe!==null&&E_(Z,Xe,Te,ye,!0)}}e:{if(H=B?Kn(B):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var he=jp;else if(St(H))if(zp)he=kA;else{he=MA;var Oe=VA}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Oo(B.elementType)&&(he=jp):he=PA;if(he&&(he=he(t,B))){Vi(Z,he,a,X);break e}Oe&&Oe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&hr(H,"number",H.value)}switch(Oe=B?Kn(B):window,t){case"focusin":(St(Oe)||Oe.contentEditable==="true")&&(Ea=Oe,af=B,zo=null);break;case"focusout":zo=af=Ea=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Qp(Z,a,X);break;case"selectionchange":if(UA)break;case"keydown":case"keyup":Qp(Z,a,X)}var fe;if(Jn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?K(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(fe=xo()):($n=X,fr="value"in $n?$n.value:$n.textContent,Pe=!0)),Oe=Ac(B,_e),0<Oe.length&&(_e=new Po(_e,t,null,a,X),Z.push({event:_e,listeners:Oe}),fe?_e.data=fe:(fe=se(a),fe!==null&&(_e.data=fe)))),(fe=g?At(t,a):ke(t,a))&&(_e=Ac(B,"onBeforeInput"),0<_e.length&&(Oe=new Po("onBeforeInput","beforeinput",null,a,X),Z.push({event:Oe,listeners:_e}),Oe.data=fe)),ES(Z,t,B,a,X)}__(Z,i)})}function ml(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ac(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=gs(t,a),h!=null&&l.unshift(ml(t,h,d)),h=gs(t,i),h!=null&&l.push(ml(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function E_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=gs(a,d),B!=null&&v.unshift(ml(a,B,I))):h||(B=gs(a,d),B!=null&&v.push(ml(a,B,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var bS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function T_(t){return(typeof t=="string"?t:""+t).replace(bS,`
`).replace(wS,"")}function A_(t,i){return i=T_(i),T_(t)===i}function Sc(){}function $e(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":Do(t,l,d);break;case"data":if(i!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),cr(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zh.get(a)||a,cr(t,a,l))}}function Od(t,i,a,l,h,d){switch(a){case"style":Do(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):cr(t,a,l)}}}function Bt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,d,v,a,null)}}h&&$e(t,i,"srcSet",a.srcSet,a,null),l&&$e(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:$e(t,i,l,X,a,null)}}ds(t,d,T,I,B,v,h,!1),ca(t);return;case"select":xe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ii(t,!!l,i,!1):a!=null&&Ii(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,i,v,T,a,null)}ms(t,l,h,d),ca(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,i,I,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<dl.length;l++)xe(dl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,B,l,a,null)}return;default:if(Oo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Od(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,i,T,l,a,null))}function RS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,X=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(F)||$e(t,i,F,null,l,Z)}}for(var H in l){var F=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(F!=null||Z!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":X=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&$e(t,i,H,F,l,Z)}}un(t,v,T,I,B,X,d,h);return;case"select":F=v=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||$e(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(t,i,h,d,l,I)}i=T,a=v,l=F,H!=null?Ii(t,!!a,H,!1):!!l!=!!a&&(i!=null?Ii(t,!!a,i,!0):Ii(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,i,v,h,l,d)}Ye(t,H,F);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:$e(t,i,Te,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$e(t,i,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&$e(t,i,ye,null,l,H);for(B in l)if(H=l[B],F=a[B],l.hasOwnProperty(B)&&H!==F&&(H!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:$e(t,i,B,H,l,F)}return;default:if(Oo(i)){for(var Xe in a)H=a[Xe],a.hasOwnProperty(Xe)&&H!==void 0&&!l.hasOwnProperty(Xe)&&Od(t,i,Xe,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||Od(t,i,X,H,l,F);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&$e(t,i,k,null,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H==null&&F==null||$e(t,i,Z,H,l,F)}var Nd=null,xd=null;function bc(t){return t.nodeType===9?t:t.ownerDocument}function S_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Vd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Md=null;function IS(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(t){return R_.resolve(null).then(t).catch(OS)}:w_;function OS(t){setTimeout(function(){throw t})}function Cr(t){return t==="head"}function I_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&pl(v.documentElement),a&2&&pl(v.body),a&4)for(a=v.head,pl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[us]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Sl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Sl(i)}function Pd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),ur(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function NS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[us])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function xS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function VS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Ld=null;function C_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function D_(t,i,a){switch(i=bc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function pl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ur(t)}var On=new Map,O_=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=ae.d;ae.d={f:MS,r:PS,D:kS,C:LS,L:US,m:jS,X:BS,S:zS,M:HS};function MS(){var t=Ki.f(),i=gc();return t||i}function PS(t){var i=Gn(t);i!==null&&i.tag===5&&i.type==="form"?Xg(i):Ki.r(t)}var Ga=typeof document>"u"?null:document;function N_(t,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var h=gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O_.has(h)||(O_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bt(i,"link",t),ht(i),l.head.appendChild(i)))}}function kS(t){Ki.D(t),N_("dns-prefetch",t,null)}function LS(t,i){Ki.C(t,i),N_("preconnect",t,i)}function US(t,i,a){Ki.L(t,i,a);var l=Ga;if(l&&t&&i){var h='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gt(a.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(i){case"style":d=Ka(t);break;case"script":d=Ya(t)}On.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),On.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(gl(d))||i==="script"&&l.querySelector(yl(d))||(i=l.createElement("link"),Bt(i,"link",t),ht(i),l.head.appendChild(i)))}}function jS(t,i){Ki.m(t,i);var a=Ga;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!On.has(d)&&(t=E({rel:"modulepreload",href:t},i),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(d)))return}l=a.createElement("link"),Bt(l,"link",t),ht(l),a.head.appendChild(l)}}}function zS(t,i,a){Ki.S(t,i,a);var l=Ga;if(l&&t){var h=Zt(l).hoistableStyles,d=Ka(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(gl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=On.get(d))&&Ud(t,a);var I=v=l.createElement("link");ht(I),Bt(I,"link",t),I._p=new Promise(function(B,X){I.onload=B,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Rc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function BS(t,i){Ki.X(t,i);var a=Ga;if(a&&t){var l=Zt(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(t=E({src:t,async:!0},i),(i=On.get(h))&&jd(t,i),d=a.createElement("script"),ht(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function HS(t,i){Ki.M(t,i);var a=Ga;if(a&&t){var l=Zt(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=On.get(h))&&jd(t,i),d=a.createElement("script"),ht(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function x_(t,i,a,l){var h=(h=Se.current)?wc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=Zt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=Zt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(gl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||qS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=Zt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+gt(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function V_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function qS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",a),ht(i),t.head.appendChild(i))}function Ya(t){return'[src="'+gt(t)+'"]'}function yl(t){return"script[async]"+t}function M_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),Bt(l,"style",h),Rc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ka(a.href);var d=t.querySelector(gl(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=V_(a),(h=On.get(h))&&Ud(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Bt(d,"link",l),i.state.loading|=4,Rc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(yl(d)))?(i.instance=h,ht(h),h):(l=a,(h=On.get(d))&&(l=E({},a),jd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),Bt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,a.precedence,t));return i.instance}function Rc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ic=null;function P_(t,i,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[us]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function k_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function FS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function L_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var _l=null;function GS(){}function KS(t,i,a){if(_l===null)throw Error(s(475));var l=_l;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ka(a.href),d=t.querySelector(gl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,a=V_(a),(h=On.get(h))&&Ud(a,h),d=d.createElement("link"),ht(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Bt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Cc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function YS(){if(_l===null)throw Error(s(475));var t=_l;return t.stylesheets&&t.count===0&&zd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function zd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,i.forEach(QS,t),Dc=null,Cc.call(t))}function QS(t,i){if(!(i.state.loading&4)){var a=Dc.get(t);if(a)var l=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var vl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function $S(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function U_(t,i,a,l,h,d,v,T,I,B,X,Z){return t=new $S(t,i,a,v,T,I,B,Z),i=1,d===!0&&(i|=24),d=hn(3,null,null,i),t.current=d,d.stateNode=t,i=Tf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),t}function j_(t){return t?(t=ba,t):ba}function z_(t,i,a,l,h,d){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=gr(t,l,i),a!==null&&(gn(a,t,i),$o(a,t,i))}function B_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Bd(t,i){B_(t,i),(t=t.alternate)&&B_(t,i)}function H_(t){if(t.tag===13){var i=Sa(t,67108864);i!==null&&gn(i,t,67108864),Bd(t,67108864)}}var Oc=!0;function XS(t,i,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=2,Hd(t,i,a,l)}finally{ae.p=d,$.T=h}}function WS(t,i,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=8,Hd(t,i,a,l)}finally{ae.p=d,$.T=h}}function Hd(t,i,a,l){if(Oc){var h=qd(l);if(h===null)Dd(t,i,l,Nc,a),F_(t,l);else if(JS(h,t,i,a,l))l.stopPropagation();else if(F_(t,l),i&4&&-1<ZS.indexOf(t)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Gt(v);T.entanglements[1]|=I,v&=~I}si(d),(Ge&6)===0&&(mc=_n()+500,fl(0))}}break;case 13:T=Sa(d,2),T!==null&&gn(T,d,2),gc(),Bd(d,2)}if(d=qd(l),d===null&&Dd(t,i,l,Nc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Dd(t,i,l,null,a)}}function qd(t){return t=Tn(t),Fd(t)}var Nc=null;function Fd(t){if(Nc=null,t=bi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Nc=t,null}function q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kh()){case yo:return 2;case na:return 8;case rs:case Yh:return 32;case ia:return 268435456;default:return 32}default:return 32}}var Gd=!1,Dr=null,Or=null,Nr=null,El=new Map,Tl=new Map,xr=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F_(t,i){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function Al(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Gn(i),i!==null&&H_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function JS(t,i,a,l,h){switch(i){case"focusin":return Dr=Al(Dr,t,i,a,l,h),!0;case"dragenter":return Or=Al(Or,t,i,a,l,h),!0;case"mouseover":return Nr=Al(Nr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,Al(El.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,Al(Tl.get(d)||null,t,i,a,l,h)),!0}return!1}function G_(t){var i=bi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,gu(t.priority,function(){if(a.tag===13){var l=pn();l=ar(l);var h=Sa(a,l);h!==null&&gn(h,a,l),Bd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ci=l,a.target.dispatchEvent(l),Ci=null}else return i=Gn(a),i!==null&&H_(i),t.blockedOn=a,!1;i.shift()}return!0}function K_(t,i,a){xc(t)&&a.delete(i)}function eb(){Gd=!1,Dr!==null&&xc(Dr)&&(Dr=null),Or!==null&&xc(Or)&&(Or=null),Nr!==null&&xc(Nr)&&(Nr=null),El.forEach(K_),Tl.forEach(K_)}function Vc(t,i){t.blockedOn===i&&(t.blockedOn=null,Gd||(Gd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eb)))}var Mc=null;function Y_(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var d=Gn(a);d!==null&&(t.splice(i,3),i-=3,Ff(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Sl(t){function i(I){return Vc(I,t)}Dr!==null&&Vc(Dr,t),Or!==null&&Vc(Or,t),Nr!==null&&Vc(Nr,t),El.forEach(i),Tl.forEach(i);for(var a=0;a<xr.length;a++){var l=xr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)G_(a),a.blockedOn===null&&xr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pt]||null;if(typeof d=="function")v||Y_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pt]||null)T=v.formAction;else if(Fd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Y_(a)}}}function Kd(t){this._internalRoot=t}Pc.prototype.render=Kd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();z_(a,l,t,i,null,null)},Pc.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;z_(t.current,2,null,t,null,null),gc(),i[vn]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var i=or();t={blockedOn:null,target:t,priority:i};for(var a=0;a<xr.length&&i!==0&&i<xr[a].priority;a++);xr.splice(a,0,t),a===0&&G_(t)}};var Q_=e.version;if(Q_!=="19.1.0")throw Error(s(527,Q_,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var tb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{lt=kc.inject(tb),Fe=kc}catch{}}return wl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=cy,d=hy,v=fy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=U_(t,1,!1,null,null,a,l,h,d,v,T,null),t[vn]=i.current,Cd(t),new Kd(i)},wl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=cy,v=hy,T=fy,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=U_(t,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=j_(null),a=i.current,l=pn(),l=ar(l),h=pr(l),h.callback=null,gr(a,h,l),a=l,i.current.lanes=a,Si(i,a),si(i),t[vn]=i.current,Cd(t),new Pc(i)},wl.version="19.1.0",wl}var rv;function hb(){if(rv)return $d.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$d.exports=cb(),$d.exports}var fb=hb(),Rl={},sv;function db(){if(sv)return Rl;sv=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=f,Rl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,P){const O=new u,G=S.length;if(G<2)return O;const q=P?.decode||E;let Y=0;do{const re=S.indexOf("=",Y);if(re===-1)break;const ne=S.indexOf(";",Y),ce=ne===-1?G:ne;if(re>ce){Y=S.lastIndexOf(";",re-1)+1;continue}const ue=m(S,Y,re),Ae=p(S,re,ue),V=S.slice(ue,Ae);if(O[V]===void 0){let w=m(S,re+1,ce),R=p(S,ce,w);const N=q(S.slice(w,R));O[V]=N}Y=ce+1}while(Y<G);return O}function m(S,P,O){do{const G=S.charCodeAt(P);if(G!==32&&G!==9)return P}while(++P<O);return O}function p(S,P,O){for(;P>O;){const G=S.charCodeAt(--P);if(G!==32&&G!==9)return P+1}return O}function y(S,P,O){const G=O?.encode||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const q=G(P);if(!e.test(q))throw new TypeError(`argument val is invalid: ${P}`);let Y=S+"="+q;if(!O)return Y;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);Y+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);Y+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);Y+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);Y+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(Y+="; HttpOnly"),O.secure&&(Y+="; Secure"),O.partitioned&&(Y+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return Y}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return Rl}db();var av="popstate";function mb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return dm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Bl(o)}return gb(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pb(){return Math.random().toString(36).substring(2,10)}function ov(r,e){return{usr:r.state,key:r.key,idx:e}}function dm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:n,key:e&&e.key||s||pb()}}function Bl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function lo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function gb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=E(),Y=q==null?null:q-y;y=q,p&&p({action:m,location:G.location,delta:Y})}function S(q,Y){m="PUSH";let re=dm(G.location,q,Y);y=E()+1;let ne=ov(re,y),ce=G.createHref(re);try{f.pushState(ne,"",ce)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ce)}u&&p&&p({action:m,location:G.location,delta:1})}function P(q,Y){m="REPLACE";let re=dm(G.location,q,Y);y=E();let ne=ov(re,y),ce=G.createHref(re);f.replaceState(ne,"",ce),u&&p&&p({action:m,location:G.location,delta:0})}function O(q){return yb(q)}let G={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(av,b),p=q,()=>{o.removeEventListener(av,b),p=null}},createHref(q){return e(o,q)},createURL:O,encodeLocation(q){let Y=O(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:P,go(q){return f.go(q)}};return G}function yb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Bl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function HE(r,e,n="/"){return _b(r,e,n,!1)}function _b(r,e,n,s){let o=typeof e=="string"?lo(e):e,u=Zi(o.pathname||"/",n);if(u==null)return null;let f=qE(r);vb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Ob(u);m=Cb(f[p],y,s)}return m}function qE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=$i([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),qE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:Rb(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of FE(u.path))o(u,f,m)}),e}function FE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=FE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function vb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Ib(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Eb=/^:[\w-]+$/,Tb=3,Ab=2,Sb=1,bb=10,wb=-2,lv=r=>r==="*";function Rb(r,e){let n=r.split("/"),s=n.length;return n.some(lv)&&(s+=wb),e&&(s+=Ab),n.filter(o=>!lv(o)).reduce((o,u)=>o+(Eb.test(u)?Tb:u===""?Sb:bb),s)}function Ib(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Cb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:$i([u,b.pathname]),pathnameBase:Mb($i([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=$i([u,b.pathnameBase]))}return f}function ih(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Db(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let O=m[S]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const P=m[S];return b&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Db(r,e=!1,n=!0){mi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Ob(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Zi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Nb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?lo(r):r;return{pathname:n?n.startsWith("/")?n:xb(n,e):e,search:Pb(s),hash:kb(o)}}function xb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GE(r){let e=Vb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function KE(r,e,n,s=!1){let o;typeof r=="string"?o=lo(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Jd("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Jd("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Jd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=Nb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var $i=r=>r.join("/").replace(/\/\/+/g,"/"),Mb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Pb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Lb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var YE=["POST","PUT","PATCH","DELETE"];new Set(YE);var Ub=["GET",...YE];new Set(Ub);var uo=Q.createContext(null);uo.displayName="DataRouter";var Ih=Q.createContext(null);Ih.displayName="DataRouterState";var QE=Q.createContext({isTransitioning:!1});QE.displayName="ViewTransition";var jb=Q.createContext(new Map);jb.displayName="Fetchers";var zb=Q.createContext(null);zb.displayName="Await";var _i=Q.createContext(null);_i.displayName="Navigation";var Jl=Q.createContext(null);Jl.displayName="Location";var ir=Q.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var Bm=Q.createContext(null);Bm.displayName="RouteError";function Bb(r,{relative:e}={}){st(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(_i),{hash:o,pathname:u,search:f}=tu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:$i([n,u])),s.createHref({pathname:m,search:f,hash:o})}function eu(){return Q.useContext(Jl)!=null}function Qs(){return st(eu(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Jl).location}var $E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XE(r){Q.useContext(_i).static||Q.useLayoutEffect(r)}function rr(){let{isDataRoute:r}=Q.useContext(ir);return r?ew():Hb()}function Hb(){st(eu(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(uo),{basename:e,navigator:n}=Q.useContext(_i),{matches:s}=Q.useContext(ir),{pathname:o}=Qs(),u=JSON.stringify(GE(s)),f=Q.useRef(!1);return XE(()=>{f.current=!0}),Q.useCallback((p,y={})=>{if(mi(f.current,$E),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=KE(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$i([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}Q.createContext(null);function tu(r,{relative:e}={}){let{matches:n}=Q.useContext(ir),{pathname:s}=Qs(),o=JSON.stringify(GE(n));return Q.useMemo(()=>KE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function qb(r,e){return WE(r,e)}function WE(r,e,n,s){st(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(_i),{matches:u}=Q.useContext(ir),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let Y=E&&E.path||"";ZE(p,!E||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let b=Qs(),S;if(e){let Y=typeof e=="string"?lo(e):e;st(y==="/"||Y.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),S=Y}else S=b;let P=S.pathname||"/",O=P;if(y!=="/"){let Y=y.replace(/^\//,"").split("/");O="/"+P.replace(/^\//,"").split("/").slice(Y.length).join("/")}let G=HE(r,{pathname:O});mi(E||G!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),mi(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=Qb(G&&G.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:$i([y,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?y:$i([y,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,s);return e&&q?Q.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},q):q}function Fb(){let r=Jb(),e=Lb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:o},n):null,f)}var Gb=Q.createElement(Fb,null),Kb=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(ir.Provider,{value:this.props.routeContext},Q.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yb({routeContext:r,match:e,children:n}){let s=Q.useContext(uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(ir.Provider,{value:r},n)}function Qb(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:b}=n,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let b,S=!1,P=null,O=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||Gb,f&&(m<0&&E===0?(ZE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===E&&(S=!0,O=y.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),q=()=>{let Y;return b?Y=P:S?Y=O:y.route.Component?Y=Q.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,Q.createElement(Yb,{match:y,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(Kb,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:q(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):q()},null)}function Hm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $b(r){let e=Q.useContext(uo);return st(e,Hm(r)),e}function Xb(r){let e=Q.useContext(Ih);return st(e,Hm(r)),e}function Wb(r){let e=Q.useContext(ir);return st(e,Hm(r)),e}function qm(r){let e=Wb(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Zb(){return qm("useRouteId")}function Jb(){let r=Q.useContext(Bm),e=Xb("useRouteError"),n=qm("useRouteError");return r!==void 0?r:e.errors?.[n]}function ew(){let{router:r}=$b("useNavigate"),e=qm("useNavigate"),n=Q.useRef(!1);return XE(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{mi(n.current,$E),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var uv={};function ZE(r,e,n){!e&&!uv[r]&&(uv[r]=!0,mi(!1,n))}Q.memo(tw);function tw({routes:r,future:e,state:n}){return WE(r,void 0,n,e)}function Pr(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=lo(n));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:S="default"}=n,P=Q.useMemo(()=>{let O=Zi(p,f);return O==null?null:{location:{pathname:O,search:y,hash:E,state:b,key:S},navigationType:s}},[f,p,y,E,b,S,s]);return mi(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:Q.createElement(_i.Provider,{value:m},Q.createElement(Jl.Provider,{children:e,value:P}))}function iw({children:r,location:e}){return qb(mm(r),e)}function mm(r,e=[]){let n=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){n.push.apply(n,mm(s.props.children,u));return}st(s.type===Pr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=mm(s.props.children,u)),n.push(f)}),n}var Gc="get",Kc="application/x-www-form-urlencoded";function Ch(r){return r!=null&&typeof r.tagName=="string"}function rw(r){return Ch(r)&&r.tagName.toLowerCase()==="button"}function sw(r){return Ch(r)&&r.tagName.toLowerCase()==="form"}function aw(r){return Ch(r)&&r.tagName.toLowerCase()==="input"}function ow(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lw(r,e){return r.button===0&&(!e||e==="_self")&&!ow(r)}var Lc=null;function uw(){if(Lc===null)try{new FormData(document.createElement("form"),0),Lc=!1}catch{Lc=!0}return Lc}var cw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function em(r){return r!=null&&!cw.has(r)?(mi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):r}function hw(r,e){let n,s,o,u,f;if(sw(r)){let m=r.getAttribute("action");s=m?Zi(m,e):null,n=r.getAttribute("method")||Gc,o=em(r.getAttribute("enctype"))||Kc,u=new FormData(r)}else if(rw(r)||aw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Zi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Gc,o=em(r.getAttribute("formenctype"))||em(m.getAttribute("enctype"))||Kc,u=new FormData(m,r),!uw()){let{name:y,type:E,value:b}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,b)}}else{if(Ch(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gc,s=null,o=Kc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Fm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function fw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function mw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await fw(u,n);return f.links?f.links():[]}return[]}));return _w(s.flat(1).filter(dw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function pw(r,e,{includeHydrateFallback:n}={}){return gw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function gw(r){return[...new Set(r)]}function yw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function _w(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(yw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vw=new Set([100,101,204,205]);function Ew(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Zi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function JE(){let r=Q.useContext(uo);return Fm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Tw(){let r=Q.useContext(Ih);return Fm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gm=Q.createContext(void 0);Gm.displayName="FrameworkContext";function eT(){let r=Q.useContext(Gm);return Fm(r,"You must render this element inside a <HydratedRouter> element"),r}function Aw(r,e){let n=Q.useContext(Gm),[s,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,S=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=Y=>{Y.forEach(re=>{f(re.isIntersecting)})},q=new IntersectionObserver(G,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let P=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Il(m,P),onBlur:Il(p,O),onMouseEnter:Il(y,P),onMouseLeave:Il(E,O),onTouchStart:Il(b,P)}]:[!1,S,{}]}function Il(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Sw({page:r,...e}){let{router:n}=JE(),s=Q.useMemo(()=>HE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(ww,{page:r,matches:s,...e}):null}function bw(r){let{manifest:e,routeModules:n}=eT(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return mw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function ww({page:r,matches:e,...n}){let s=Qs(),{manifest:o,routeModules:u}=eT(),{basename:f}=JE(),{loaderData:m,matches:p}=Tw(),y=Q.useMemo(()=>cv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=Q.useMemo(()=>cv(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,G=!1;if(e.forEach(Y=>{let re=o.routes[Y.route.id];!re||!re.hasLoader||(!y.some(ne=>ne.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||re.hasClientLoader?G=!0:O.add(Y.route.id))}),O.size===0)return[];let q=Ew(r,f);return G&&O.size>0&&q.searchParams.set("_routes",e.filter(Y=>O.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,y,e,r,u]),S=Q.useMemo(()=>pw(E,o),[E,o]),P=bw(E);return Q.createElement(Q.Fragment,null,b.map(O=>Q.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),S.map(O=>Q.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),P.map(({key:O,link:G})=>Q.createElement("link",{key:O,...G})))}function Rw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tT&&(window.__reactRouterVersion="7.6.3")}catch{}function Iw({basename:r,children:e,window:n}){let s=Q.useRef();s.current==null&&(s.current=mb({window:n,v5Compat:!0}));let o=s.current,[u,f]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>f(p))},[f]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(nw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iT=Q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...S},P){let{basename:O}=Q.useContext(_i),G=typeof y=="string"&&nT.test(y),q,Y=!1;if(typeof y=="string"&&G&&(q=y,tT))try{let R=new URL(window.location.href),N=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=Zi(N.pathname,O);N.origin===R.origin&&M!=null?y=M+N.search+N.hash:Y=!0}catch{mi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=Bb(y,{relative:o}),[ne,ce,ue]=Aw(s,S),Ae=Nw(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function V(R){e&&e(R),R.defaultPrevented||Ae(R)}let w=Q.createElement("a",{...S,...ue,href:q||re,onClick:Y||u?e:V,ref:Rw(P,ce),target:p,"data-discover":!G&&n==="render"?"true":void 0});return ne&&!G?Q.createElement(Q.Fragment,null,w,Q.createElement(Sw,{page:re})):w});iT.displayName="Link";var Cw=Q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let b=tu(f,{relative:y.relative}),S=Qs(),P=Q.useContext(Ih),{navigator:O,basename:G}=Q.useContext(_i),q=P!=null&&kw(b)&&m===!0,Y=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,re=S.pathname,ne=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(re=re.toLowerCase(),ne=ne?ne.toLowerCase():null,Y=Y.toLowerCase()),ne&&G&&(ne=Zi(ne,G)||ne);const ce=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ue=re===Y||!o&&re.startsWith(Y)&&re.charAt(ce)==="/",Ae=ne!=null&&(ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(Y.length)==="/"),V={isActive:ue,isPending:Ae,isTransitioning:q},w=ue?e:void 0,R;typeof s=="function"?R=s(V):R=[s,ue?"active":null,Ae?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(V):u;return Q.createElement(iT,{...y,"aria-current":w,className:R,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(V):p)});Cw.displayName="NavLink";var Dw=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Gc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...S},P)=>{let O=Mw(),G=Pw(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&nT.test(m),re=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let ce=ne.nativeEvent.submitter,ue=ce?.getAttribute("formmethod")||f;O(ce||ne.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return Q.createElement("form",{ref:P,method:q,action:G,onSubmit:s?p:re,...S,"data-discover":!Y&&r==="render"?"true":void 0})});Dw.displayName="Form";function Ow(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(r){let e=Q.useContext(uo);return st(e,Ow(r)),e}function Nw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=rr(),p=Qs(),y=tu(r,{relative:u});return Q.useCallback(E=>{if(lw(E,e)){E.preventDefault();let b=n!==void 0?n:Bl(p)===Bl(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var xw=0,Vw=()=>`__${String(++xw)}__`;function Mw(){let{router:r}=rT("useSubmit"),{basename:e}=Q.useContext(_i),n=Zb();return Q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=hw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Vw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Pw(r,{relative:e}={}){let{basename:n}=Q.useContext(_i),s=Q.useContext(ir);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...tu(r||".",{relative:e})},f=Qs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:$i([n,u.pathname])),Bl(u)}function kw(r,e={}){let n=Q.useContext(QE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rT("useViewTransitionState"),o=tu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Zi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Zi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ih(o.pathname,f)!=null||ih(o.pathname,u)!=null}[...vw];const Lw=()=>{};var hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Uw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(S=64)),s.push(n[E],n[b],n[S],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(sT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Uw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new jw;const S=u<<2|m>>4;if(s.push(S),y!==64){const P=m<<4&240|y>>2;if(s.push(P),b!==64){const O=y<<6&192|b;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zw=function(r){const e=sT(r);return aT.encodeByteArray(e,!0)},rh=function(r){return zw(r).replace(/\./g,"")},oT=function(r){try{return aT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=()=>Bw().__FIREBASE_DEFAULTS__,qw=()=>{if(typeof process>"u"||typeof hv>"u")return;const r=hv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Fw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&oT(r[1]);return e&&JSON.parse(e)},Dh=()=>{try{return Lw()||Hw()||qw()||Fw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lT=r=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},uT=r=>{const e=lT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cT=()=>{var r;return(r=Dh())===null||r===void 0?void 0:r.config},hT=r=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Km(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[rh(JSON.stringify(n)),rh(JSON.stringify(f)),""].join(".")}const Ml={};function Kw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?r.emulator.push(e):r.prod.push(e);return r}function Yw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let fv=!1;function Ym(r,e){if(typeof window>"u"||typeof document>"u"||!$s(window.location.host)||Ml[r]===e||Ml[r]||fv)return;Ml[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=Kw().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,P){S.setAttribute("width","24"),S.setAttribute("id",P),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{fv=!0,f()},S}function E(S,P){S.setAttribute("id",P),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Yw(s),P=n("text"),O=document.getElementById(P)||document.createElement("span"),G=n("learnmore"),q=document.getElementById(G)||document.createElement("a"),Y=n("preprendIcon"),re=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ne=S.element;m(ne),E(q,G);const ce=y();p(re,Y),ne.append(re,O,q,ce),document.body.appendChild(ne)}u?(O.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function $w(){var r;const e=(r=Dh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ww(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Zw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jw(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eR(){return!$w()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tR(){try{return typeof indexedDB=="object"}catch{return!1}}function nR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="FirebaseError";class vi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=iR,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?rR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new vi(o,m,s)}}function rR(r,e){return r.replace(sR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const sR=/\{\$([^}]+)}/g;function aR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Bs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(dv(u)&&dv(f)){if(!Bs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function dv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Cl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Dl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function oR(r,e){const n=new lR(r,e);return n.subscribe.bind(n)}class lR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function tm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(r){return r&&r._delegate?r._delegate:r}class Gr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Gw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fR(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hR(r){return r===Us?void 0:r}function fR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const mR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},pR=Ve.INFO,gR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},yR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=gR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=pR,this._logHandler=yR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const _R=(r,e)=>e.some(n=>r instanceof n);let mv,pv;function vR(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ER(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dT=new WeakMap,pm=new WeakMap,mT=new WeakMap,nm=new WeakMap,$m=new WeakMap;function TR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Br(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&dT.set(n,r)}).catch(()=>{}),$m.set(e,r),e}function AR(r){if(pm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});pm.set(r,e)}let gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||mT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function SR(r){gm=r(gm)}function bR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(im(this),e,...n);return mT.set(s,e.sort?e.sort():[e]),Br(s)}:ER().includes(r)?function(...e){return r.apply(im(this),e),Br(dT.get(this))}:function(...e){return Br(r.apply(im(this),e))}}function wR(r){return typeof r=="function"?bR(r):(r instanceof IDBTransaction&&AR(r),_R(r,vR())?new Proxy(r,gm):r)}function Br(r){if(r instanceof IDBRequest)return TR(r);if(nm.has(r))return nm.get(r);const e=wR(r);return e!==r&&(nm.set(r,e),$m.set(e,r)),e}const im=r=>$m.get(r);function RR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Br(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Br(f.result),p.oldVersion,p.newVersion,Br(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const IR=["get","getKey","getAll","getAllKeys","count"],CR=["put","add","delete","clear"],rm=new Map;function gv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rm.get(e))return rm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=CR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||IR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return rm.set(e,u),u}SR(r=>({...r,get:(e,n,s)=>gv(e,n)||r.get(e,n,s),has:(e,n)=>!!gv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function OR(r){const e=r.getComponent();return e?.type==="VERSION"}const ym="@firebase/app",yv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new Qm("@firebase/app"),NR="@firebase/app-compat",xR="@firebase/analytics-compat",VR="@firebase/analytics",MR="@firebase/app-check-compat",PR="@firebase/app-check",kR="@firebase/auth",LR="@firebase/auth-compat",UR="@firebase/database",jR="@firebase/data-connect",zR="@firebase/database-compat",BR="@firebase/functions",HR="@firebase/functions-compat",qR="@firebase/installations",FR="@firebase/installations-compat",GR="@firebase/messaging",KR="@firebase/messaging-compat",YR="@firebase/performance",QR="@firebase/performance-compat",$R="@firebase/remote-config",XR="@firebase/remote-config-compat",WR="@firebase/storage",ZR="@firebase/storage-compat",JR="@firebase/firestore",e1="@firebase/ai",t1="@firebase/firestore-compat",n1="firebase",i1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",r1={[ym]:"fire-core",[NR]:"fire-core-compat",[VR]:"fire-analytics",[xR]:"fire-analytics-compat",[PR]:"fire-app-check",[MR]:"fire-app-check-compat",[kR]:"fire-auth",[LR]:"fire-auth-compat",[UR]:"fire-rtdb",[jR]:"fire-data-connect",[zR]:"fire-rtdb-compat",[BR]:"fire-fn",[HR]:"fire-fn-compat",[qR]:"fire-iid",[FR]:"fire-iid-compat",[GR]:"fire-fcm",[KR]:"fire-fcm-compat",[YR]:"fire-perf",[QR]:"fire-perf-compat",[$R]:"fire-rc",[XR]:"fire-rc-compat",[WR]:"fire-gcs",[ZR]:"fire-gcs-compat",[JR]:"fire-fst",[t1]:"fire-fst-compat",[e1]:"fire-vertex","fire-js":"fire-js",[n1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,s1=new Map,vm=new Map;function _v(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Hs(r){const e=r.name;if(vm.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,r);for(const n of sh.values())_v(n,r);for(const n of s1.values())_v(n,r);return!0}function Oh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new nu("app","Firebase",a1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=i1;function pT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_m,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Hr.create("bad-app-name",{appName:String(o)});if(n||(n=cT()),!n)throw Hr.create("no-options");const u=sh.get(o);if(u){if(Bs(n,u.options)&&Bs(s,u.config))return u;throw Hr.create("duplicate-app",{appName:o})}const f=new dR(o);for(const p of vm.values())f.addComponent(p);const m=new o1(n,s,f);return sh.set(o,m),m}function Xm(r=_m){const e=sh.get(r);if(!e&&r===_m&&cT())return pT();if(!e)throw Hr.create("no-app",{appName:r});return e}function oi(r,e,n){var s;let o=(s=r1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(m.join(" "));return}Hs(new Gr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firebase-heartbeat-database",u1=1,Hl="firebase-heartbeat-store";let sm=null;function gT(){return sm||(sm=RR(l1,u1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Hr.create("idb-open",{originalErrorMessage:r.message})})),sm}async function c1(r){try{const n=(await gT()).transaction(Hl),s=await n.objectStore(Hl).get(yT(r));return await n.done,s}catch(e){if(e instanceof vi)Ji.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(n.message)}}}async function vv(r,e){try{const s=(await gT()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,yT(r)),await s.done}catch(n){if(n instanceof vi)Ji.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n?.message});Ji.warn(s.message)}}}function yT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=1024,f1=30;class d1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ev();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>f1){const f=g1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ji.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ev(),{heartbeatsToSend:s,unsentEntries:o}=m1(this._heartbeatsCache.heartbeats),u=rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Ji.warn(n),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function m1(r,e=h1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Tv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Tv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class p1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tR()?nR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Tv(r){return rh(JSON.stringify({version:2,heartbeats:r})).length}function g1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(r){Hs(new Gr("platform-logger",e=>new DR(e),"PRIVATE")),Hs(new Gr("heartbeat",e=>new d1(e),"PRIVATE")),oi(ym,yv,r),oi(ym,yv,"esm2017"),oi("fire-js","")}y1("");var _1="firebase",v1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(_1,v1,"app");function Wm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function _T(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E1=_T,vT=new nu("auth","Firebase",_T());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Qm("@firebase/auth");function T1(r,...e){ah.logLevel<=Ve.WARN&&ah.warn(`Auth (${Xs}): ${r}`,...e)}function Yc(r,...e){ah.logLevel<=Ve.ERROR&&ah.error(`Auth (${Xs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...e){throw Zm(r,...e)}function li(r,...e){return Zm(r,...e)}function ET(r,e,n){const s=Object.assign(Object.assign({},E1()),{[e]:n});return new nu("auth","Firebase",s).create(e,{appName:r.name})}function Xi(r){return ET(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return vT.create(r,...e)}function ve(r,e,...n){if(!r)throw Zm(e,...n)}function Yi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Yc(e),new Error(e)}function er(r,e){r||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function A1(){return Av()==="http:"||Av()==="https:"}function Av(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A1()||Ww()||"connection"in navigator)?navigator.onLine:!0}function b1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=Qw()||Zw()}get(){return S1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(r,e){er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I1=new ru(3e4,6e4);function Jr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function es(r,e,n,s,o={}){return AT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return Xw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&$s(r.emulatorConfig.host)&&(y.credentials="include"),TT.fetch()(await ST(r,r.config.apiHost,n,m),y)})}async function AT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},w1),e);try{const o=new D1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Uc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Uc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ET(r,E,y);Hn(r,E)}}catch(o){if(o instanceof vi)throw o;Hn(r,"network-request-failed",{message:String(o)})}}async function su(r,e,n,s,o={}){const u=await es(r,e,n,s,o);return"mfaPendingCredential"in u&&Hn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ST(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Jm(r.config,o):`${r.config.apiScheme}://${o}`;return R1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function C1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(li(this.auth,"network-request-failed")),I1.get())})}}function Uc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=li(r,e,s);return o.customData._tokenResponse=n,o}function Sv(r){return r!==void 0&&r.enterprise!==void 0}class O1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return C1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function N1(r,e){return es(r,"GET","/v2/recaptchaConfig",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(r,e){return es(r,"POST","/v1/accounts:delete",e)}async function oh(r,e){return es(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V1(r,e=!1){const n=on(r),s=await n.getIdToken(e),o=ep(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Pl(am(o.auth_time)),issuedAtTime:Pl(am(o.iat)),expirationTime:Pl(am(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function am(r){return Number(r)*1e3}function ep(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=oT(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bv(r){const e=ep(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof vi&&M1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function M1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await ql(r,oh(n,{idToken:s}));ve(o?.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?bT(u.providerUserInfo):[],m=L1(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!m?.length,E=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Tm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function k1(r){const e=on(r);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function L1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function bT(r){return r.map(e=>{var{providerId:n}=e,s=Wm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(r,e){const n=await AT(r,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await ST(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&$s(r.emulatorConfig.host)&&(p.credentials="include"),TT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function j1(r,e){return es(r,"POST","/v2/accounts:revokeToken",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=bv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await U1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ja;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class jn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Wm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new P1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Tm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ql(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return V1(this,e)}reload(){return k1(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await ql(this,x1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:ce,isAnonymous:ue,providerData:Ae,stsTokenManager:V}=n;ve(ne&&V,e,"internal-error");const w=Ja.fromJSON(this.name,V);ve(typeof ne=="string",e,"internal-error"),Mr(b,e.name),Mr(S,e.name),ve(typeof ce=="boolean",e,"internal-error"),ve(typeof ue=="boolean",e,"internal-error"),Mr(P,e.name),Mr(O,e.name),Mr(G,e.name),Mr(q,e.name),Mr(Y,e.name),Mr(re,e.name);const R=new jn({uid:ne,auth:e,email:S,emailVerified:ce,displayName:b,isAnonymous:ue,photoURL:O,phoneNumber:P,tenantId:G,stsTokenManager:w,createdAt:Y,lastLoginAt:re});return Ae&&Array.isArray(Ae)&&(R.providerData=Ae.map(N=>Object.assign({},N))),q&&(R._redirectEventId=q),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ja;o.updateFromServerResponse(n);const u=new jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await lh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Ja;m.updateFromIdToken(s);const p=new jn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new Map;function Qi(r){er(r instanceof Function,"Expected a class definition");let e=wv.get(r);return e?(er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,wv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wT.type="NONE";const Rv=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r,e,n){return`firebase:${r}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Qc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Qc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?jn._fromGetAccountInfoResponse(this.auth,n,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(Qi(Rv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Qi(Rv);const f=Qc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const S=await oh(e,{idToken:E}).catch(()=>{});if(!S)break;b=await jn._fromGetAccountInfoResponse(e,S,E)}else b=jn._fromJSON(e,E);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new eo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NT(e))return"Blackberry";if(xT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||CT(e))&&!e.includes("edge/"))return"Chrome";if(OT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function RT(r=Wt()){return/firefox\//i.test(r)}function IT(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CT(r=Wt()){return/crios\//i.test(r)}function DT(r=Wt()){return/iemobile/i.test(r)}function OT(r=Wt()){return/android/i.test(r)}function NT(r=Wt()){return/blackberry/i.test(r)}function xT(r=Wt()){return/webos/i.test(r)}function tp(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function z1(r=Wt()){var e;return tp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function B1(){return Jw()&&document.documentMode===10}function VT(r=Wt()){return tp(r)||OT(r)||xT(r)||NT(r)||/windows phone/i.test(r)||DT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(r,e=[]){let n;switch(r){case"Browser":n=Iv(Wt());break;case"Worker":n=`${Iv(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(r,e={}){return es(r,"GET","/v2/passwordPolicy",Jr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=6;class G1{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:F1,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cv(this),this.idTokenSubscription=new Cv(this),this.beforeStateQueue=new H1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),s=await jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject(Xi(this));const n=e?on(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q1(this),n=new G1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await j1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&T1(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Ws(r){return on(r)}class Cv{constructor(e){this.auth=e,this.observer=null,this.addObserver=oR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y1(r){Nh=r}function PT(r){return Nh.loadJS(r)}function Q1(){return Nh.recaptchaEnterpriseScript}function $1(){return Nh.gapiScript}function X1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class W1{constructor(){this.enterprise=new Z1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Z1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const J1="recaptcha-enterprise",kT="NO_RECAPTCHA";class eI{constructor(e){this.type=J1,this.auth=Ws(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{N1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new O1(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Sv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(kT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new W1().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Sv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Q1();p.length!==0&&(p+=m),PT(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Dv(r,e,n,s=!1,o=!1){const u=new eI(r);let f;if(o)f=kT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Am(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Dv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Dv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(r,e){const n=Oh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bs(u,e??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:e})}function nI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Qi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function iI(r,e,n){const s=Ws(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=LT(e),{host:f,port:m}=rI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Bs(y,s.config.emulator)&&Bs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,$s(f)?(Km(`${u}//${f}${p}`),Ym("Auth",!0)):sI()}function LT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function rI(r){const e=LT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Ov(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Ov(f)}}}function Ov(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function sI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function aI(r,e){return es(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(r,e){return su(r,"POST","/v1/accounts:signInWithPassword",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,e){return su(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,e))}async function uI(r,e){return su(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends np{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Fl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,n,"signInWithPassword",oI);case"emailLink":return lI(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Am(e,s,"signUpPassword",aI);case"emailLink":return uI(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(r,e){return su(r,"POST","/v1/accounts:signInWithIdp",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="http://localhost";class qs extends np{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Wm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:cI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fI(r){const e=Cl(Dl(r)).link,n=e?Cl(Dl(e)).deep_link_id:null,s=Cl(Dl(r)).deep_link_id;return(s?Cl(Dl(s)).link:null)||s||n||e||r}class ip{constructor(e){var n,s,o,u,f,m;const p=Cl(Dl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=hI((o=p.mode)!==null&&o!==void 0?o:null);ve(y&&E&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=fI(e);try{return new ip(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ip.parseLink(n);return ve(s,"argument-error"),Fl._fromEmailAndCode(e,s.code,s.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends UT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends au{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends au{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends au{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,e){return su(r,"POST","/v1/accounts:signUp",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await jn._fromIdTokenResponse(e,s,o),f=Nv(s);return new Fs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Nv(s);return new Fs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Nv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends vi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new uh(e,n,s,o)}}function jT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(r,u,e,s):u})}async function mI(r,e,n=!1){const s=await ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Fs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e,n=!1){const{auth:s}=r;if(yn(s.app))return Promise.reject(Xi(s));const o="reauthenticate";try{const u=await ql(r,jT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=ep(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Fs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Hn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(r,e,n=!1){if(yn(r.app))return Promise.reject(Xi(r));const s="signIn",o=await jT(r,s,e),u=await Fs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function gI(r,e){return zT(Ws(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(r){const e=Ws(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yI(r,e,n){if(yn(r.app))return Promise.reject(Xi(r));const s=Ws(r),f=await Am(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&BT(r),p}),m=await Fs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function _I(r,e,n){return yn(r.app)?Promise.reject(Xi(r)):gI(on(r),co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&BT(r),s})}function vI(r,e,n,s){return on(r).onIdTokenChanged(e,n,s)}function EI(r,e,n){return on(r).beforeAuthStateChanged(e,n)}function TI(r,e,n,s){return on(r).onAuthStateChanged(e,n,s)}function AI(r){return on(r).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=1e3,bI=10;class qT extends HT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);B1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},SI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const wI=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends HT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FT.type="SESSION";const GT=FT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await RI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=rp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function CI(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function DI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OI(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function NI(){return KT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="firebaseLocalStorageDb",xI=1,hh="firebaseLocalStorage",QT="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vh(r,e){return r.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function VI(){const r=indexedDB.deleteDatabase(YT);return new ou(r).toPromise()}function Sm(){const r=indexedDB.open(YT,xI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(hh,{keyPath:QT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(hh)?e(s):(s.close(),await VI(),e(await Sm()))})})}async function xv(r,e,n){const s=Vh(r,!0).put({[QT]:e,value:n});return new ou(s).toPromise()}async function MI(r,e){const n=Vh(r,!1).get(e),s=await new ou(n).toPromise();return s===void 0?null:s.value}function Vv(r,e){const n=Vh(r,!0).delete(e);return new ou(n).toPromise()}const PI=800,kI=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>kI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(NI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DI(),!this.activeServiceWorker)return;this.sender=new II(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await xv(e,ch,"1"),await Vv(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>xv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>MI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Vh(o,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const LI=$T;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(r,e){return e?Qi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends np{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jI(r){return zT(r.auth,new sp(r),r.bypassAuthState)}function zI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),pI(n,new sp(r),r.bypassAuthState)}async function BI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),mI(n,new sp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jI;case"linkViaPopup":case"linkViaRedirect":return BI;case"reauthViaPopup":case"reauthViaRedirect":return zI;default:Hn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new ru(2e3,1e4);class Za extends XT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HI.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="pendingRedirect",$c=new Map;class FI extends XT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const s=await GI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GI(r,e){const n=QI(e),s=YI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function KI(r,e){$c.set(r._key(),e)}function YI(r){return Qi(r._redirectPersistence)}function QI(r){return Qc(qI,r.config.apiKey,r.name)}async function $I(r,e,n=!1){if(yn(r.app))return Promise.reject(Xi(r));const s=Ws(r),o=UI(s,e),f=await new FI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=10*60*1e3;class WI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!WT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(li(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(e))}saveEventToCache(e){this.cachedEventUids.add(Mv(e)),this.lastProcessedEventTime=Date.now()}}function Mv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function WT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ZI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,e={}){return es(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function nC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await JI(r);for(const n of e)try{if(iC(n))return}catch{}Hn(r,"unauthorized-domain")}function iC(r){const e=Em(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!tC.test(n))return!1;if(eC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new ru(3e4,6e4);function Pv(){const r=ui().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function sC(r){return new Promise((e,n)=>{var s,o,u;function f(){Pv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pv(),n(li(r,"network-request-failed"))},timeout:rC.get()})}if(!((o=(s=ui().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ui().gapi)===null||u===void 0)&&u.load)f();else{const m=X1("iframefcb");return ui()[m]=()=>{gapi.load?f():n(li(r,"network-request-failed"))},PT(`${$1()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function aC(r){return Xc=Xc||sC(r),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new ru(5e3,15e3),lC="__/auth/iframe",uC="emulator/auth/iframe",cC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Jm(e,uC):`https://${r.config.authDomain}/${lC}`,s={apiKey:e.apiKey,appName:r.name,v:Xs},o=hC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function dC(r){const e=await aC(r),n=ui().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:fC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=li(r,"network-request-failed"),m=ui().setTimeout(()=>{u(f)},oC.get());function p(){ui().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pC=500,gC=600,yC="_blank",_C="http://localhost";class kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vC(r,e,n,s=pC,o=gC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},mC),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Wt().toLowerCase();n&&(m=CT(y)?yC:n),RT(y)&&(e=e||_C,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[P,O])=>`${S}${P}=${O},`,"");if(z1(y)&&m!=="_self")return EC(e||"",m),new kv(null);const b=window.open(e||"",m,E);ve(b,r,"popup-blocked");try{b.focus()}catch{}return new kv(b)}function EC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="__/auth/handler",AC="emulator/auth/handler",SC=encodeURIComponent("fac");async function Lv(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Xs,eventId:o};if(e instanceof UT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",aR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof au){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${SC}=${encodeURIComponent(p)}`:"";return`${bC(r)}?${iu(m).slice(1)}${y}`}function bC({config:r}){return r.emulator?Jm(r,AC):`https://${r.authDomain}/${TC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class wC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=$I,this._overrideRedirectResult=KI}async _openPopup(e,n,s,o){var u;er((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Lv(e,n,s,Em(),o);return vC(e,f,rp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Lv(e,n,s,Em(),o);return CI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await dC(e),s=new WI(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},o=>{var u;const f=(u=o?.[0])===null||u===void 0?void 0:u[om];f!==void 0&&n(!!f),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VT()||IT()||tp()}}const RC=wC;var Uv="@firebase/auth",jv="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DC(r){Hs(new Gr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MT(r)},y=new K1(s,o,u,p);return nI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Hs(new Gr("auth-internal",e=>{const n=Ws(e.getProvider("auth").getImmediate());return(s=>new IC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(Uv,jv,CC(r)),oi(Uv,jv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=5*60,NC=hT("authIdTokenMaxAge")||OC;let zv=null;const xC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>NC)return;const o=n?.token;zv!==o&&(zv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VC(r=Xm()){const e=Oh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=tI(r,{popupRedirectResolver:RC,persistence:[LI,wI,GT]}),s=hT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=xC(u.toString());EI(n,f,()=>f(n.currentUser)),vI(n,m=>f(m))}}const o=lT("auth");return o&&iI(n,`http://${o}`),n}function MC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Y1({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=li("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",MC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DC("Browser");var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,ZT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,w){function R(){}R.prototype=w.prototype,V.D=w.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(N,M,L){for(var C=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)C[kt-2]=arguments[kt];return w.prototype[M].apply(N,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,w,R){R||(R=0);var N=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)N[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=V.g[0],R=V.g[1],M=V.g[2];var L=V.g[3],C=w+(L^R&(M^L))+N[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=L+(M^w&(R^M))+N[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(R^L&(w^R))+N[2]+606105819&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(w^M&(L^w))+N[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(L^R&(M^L))+N[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(M^w&(R^M))+N[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(R^L&(w^R))+N[6]+2821735955&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(w^M&(L^w))+N[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(L^R&(M^L))+N[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(M^w&(R^M))+N[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(R^L&(w^R))+N[10]+4294925233&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(w^M&(L^w))+N[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(L^R&(M^L))+N[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=L+(M^w&(R^M))+N[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(R^L&(w^R))+N[14]+2792965006&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(w^M&(L^w))+N[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=w+(M^L&(R^M))+N[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(w^R))+N[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(L^w))+N[11]+643717713&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(M^L))+N[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^L&(R^M))+N[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(w^R))+N[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(L^w))+N[15]+3634488961&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(M^L))+N[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^L&(R^M))+N[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(w^R))+N[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(L^w))+N[3]+4107603335&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(M^L))+N[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(M^L&(R^M))+N[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(w^R))+N[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^R&(L^w))+N[7]+1735328473&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^w&(M^L))+N[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=w+(R^M^L)+N[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^M)+N[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^R)+N[11]+1839030562&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^w)+N[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^L)+N[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^M)+N[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^R)+N[7]+4139469664&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^w)+N[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^L)+N[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^M)+N[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^R)+N[3]+3572445317&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^w)+N[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(R^M^L)+N[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=L+(w^R^M)+N[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^R)+N[15]+530742520&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^w)+N[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=w+(M^(R|~L))+N[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~M))+N[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~R))+N[14]+2878612391&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~w))+N[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~L))+N[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~M))+N[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~R))+N[10]+4293915773&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~w))+N[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~L))+N[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~M))+N[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~R))+N[6]+2734768916&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~w))+N[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=w+(M^(R|~L))+N[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=L+(R^(w|~M))+N[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~R))+N[2]+718787259&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~w))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var R=w-this.blockSize,N=this.B,M=this.h,L=0;L<w;){if(M==0)for(;L<=R;)o(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<w;)if(N[M++]=V.charCodeAt(L++),M==this.blockSize){o(this,N),M=0;break}}else for(;L<w;)if(N[M++]=V[L++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var R=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=R&255,R/=256;for(this.u(V),V=Array(16),w=R=0;4>w;++w)for(var N=0;32>N;N+=8)V[R++]=this.g[w]>>>N&255;return V};function u(V,w){var R=m;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=w(V)}function f(V,w){this.h=w;for(var R=[],N=!0,M=V.length-1;0<=M;M--){var L=V[M]|0;N&&L==w||(R[M]=L,N=!1)}this.g=R}var m={};function p(V){return-128<=V&&128>V?u(V,function(w){return new f([w|0],0>w?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return q(y(-V));for(var w=[],R=1,N=0;V>=R;N++)w[N]=V/R|0,R*=4294967296;return new f(w,0)}function E(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return q(E(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(w,8)),N=b,M=0;M<V.length;M+=8){var L=Math.min(8,V.length-M),C=parseInt(V.substring(M,M+L),w);8>L?(L=y(Math.pow(w,L)),N=N.j(L).add(y(C))):(N=N.j(R),N=N.add(y(C)))}return N}var b=p(0),S=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-q(this).m();for(var V=0,w=1,R=0;R<this.g.length;R++){var N=this.i(R);V+=(0<=N?N:4294967296+N)*w,w*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(O(this))return"0";if(G(this))return"-"+q(this).toString(V);for(var w=y(Math.pow(V,6)),R=this,N="";;){var M=ce(R,w).g;R=Y(R,M.j(w));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=M,O(R))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function O(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function G(V){return V.h==-1}r.l=function(V){return V=Y(this,V),G(V)?-1:O(V)?0:1};function q(V){for(var w=V.g.length,R=[],N=0;N<w;N++)R[N]=~V.g[N];return new f(R,~V.h).add(S)}r.abs=function(){return G(this)?q(this):this},r.add=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],N=0,M=0;M<=w;M++){var L=N+(this.i(M)&65535)+(V.i(M)&65535),C=(L>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=C>>>16,L&=65535,C&=65535,R[M]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Y(V,w){return V.add(q(w))}r.j=function(V){if(O(this)||O(V))return b;if(G(this))return G(V)?q(this).j(q(V)):q(q(this).j(V));if(G(V))return q(this.j(q(V)));if(0>this.l(P)&&0>V.l(P))return y(this.m()*V.m());for(var w=this.g.length+V.g.length,R=[],N=0;N<2*w;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var L=this.i(N)>>>16,C=this.i(N)&65535,kt=V.i(M)>>>16,ot=V.i(M)&65535;R[2*N+2*M]+=C*ot,re(R,2*N+2*M),R[2*N+2*M+1]+=L*ot,re(R,2*N+2*M+1),R[2*N+2*M+1]+=C*kt,re(R,2*N+2*M+1),R[2*N+2*M+2]+=L*kt,re(R,2*N+2*M+2)}for(N=0;N<w;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=w;N<2*w;N++)R[N]=0;return new f(R,0)};function re(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function ne(V,w){this.g=V,this.h=w}function ce(V,w){if(O(w))throw Error("division by zero");if(O(V))return new ne(b,b);if(G(V))return w=ce(q(V),w),new ne(q(w.g),q(w.h));if(G(w))return w=ce(V,q(w)),new ne(q(w.g),w.h);if(30<V.g.length){if(G(V)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,N=w;0>=N.l(V);)R=ue(R),N=ue(N);var M=Ae(R,1),L=Ae(N,1);for(N=Ae(N,2),R=Ae(R,2);!O(N);){var C=L.add(N);0>=C.l(V)&&(M=M.add(R),L=C),N=Ae(N,1),R=Ae(R,1)}return w=Y(V,M.j(w)),new ne(M,w)}for(M=b;0<=V.l(w);){for(R=Math.max(1,Math.floor(V.m()/w.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=y(R),C=L.j(w);G(C)||0<C.l(V);)R-=N,L=y(R),C=L.j(w);O(L)&&(L=S),M=M.add(L),V=Y(V,C)}return new ne(M,V)}r.A=function(V){return ce(this,V).h},r.and=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)&V.i(N);return new f(R,this.h&V.h)},r.or=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)|V.i(N);return new f(R,this.h|V.h)},r.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),R=[],N=0;N<w;N++)R[N]=this.i(N)^V.i(N);return new f(R,this.h^V.h)};function ue(V){for(var w=V.g.length+1,R=[],N=0;N<w;N++)R[N]=V.i(N)<<1|V.i(N-1)>>>31;return new f(R,V.h)}function Ae(V,w){var R=w>>5;w%=32;for(var N=V.g.length-R,M=[],L=0;L<N;L++)M[L]=0<w?V.i(L+R)>>>w|V.i(L+R+1)<<32-w:V.i(L+R);return new f(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ZT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,qr=f}).apply(typeof Bv<"u"?Bv:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JT,Ol,e0,Wc,bm,t0,n0,i0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break e;_=_[U]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var K=_++;return{value:g(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function S(c,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function P(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function O(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,K){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return g.prototype[U].apply(A,se)}}function G(c){const g=c.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function q(c,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=c.length||0,K=A.length||0;c.length=U+K;for(let se=0;se<K;se++)c[U+se]=A[se]}else c.push(A)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var ue=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ae(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function w(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class kt{constructor(){this.h=this.g=null}add(g,_){const A=ot.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ot=new Y(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,ze=new kt,D=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){L(_)}var g=ot;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function De(c,g){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{ce(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}O(De,ie);var Se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function qn(c,g,_,A,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=U,this.key=++Ze,this.da=this.fa=!1}function sr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ti(c){this.src=c,this.g={},this.h=0}Ti.prototype.add=function(c,g,_,A,U){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=ns(c,g,A,U);return-1<se?(g=c[se],_||(g.fa=!1)):(g=new qn(g,this.src,K,!!A,U),g.fa=_,c.push(g)),g};function ts(c,g){var _=g.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,g,void 0),K;(K=0<=U)&&Array.prototype.splice.call(A,U,1),K&&(sr(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ns(c,g,_,A){for(var U=0;U<c.length;++U){var K=c[U];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==A)return U}return-1}var is="closure_lm_"+(1e6*Math.random()|0),go={};function du(c,g,_,A,U){if(Array.isArray(g)){for(var K=0;K<g.length;K++)du(c,g[K],_,A,U);return null}return _=mu(_),c&&c[Ct]?c.K(g,_,y(A)?!!A.capture:!1,U):_n(c,g,_,!1,A,U)}function _n(c,g,_,A,U,K){if(!g)throw Error("Invalid event type");var se=y(U)?!!U.capture:!!U,Pe=ia(c);if(Pe||(c[is]=Pe=new Ti(c)),_=Pe.add(g,_,A,se,K),_.proxy)return _;if(A=Kh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)pe||(U=se),U===void 0&&(U=!1),c.addEventListener(g.toString(),A,U);else if(c.attachEvent)c.attachEvent(rs(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Kh(){function c(_){return g.call(c.src,c.listener,_)}const g=Yh;return c}function yo(c,g,_,A,U){if(Array.isArray(g))for(var K=0;K<g.length;K++)yo(c,g[K],_,A,U);else A=y(A)?!!A.capture:!!A,_=mu(_),c&&c[Ct]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],_=ns(K,_,A,U),-1<_&&(sr(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=ia(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ns(g,_,A,U)),(_=-1<c?g[c]:null)&&na(_))}function na(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ct])ts(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(rs(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=ia(g))?(ts(_,c),_.h==0&&(_.src=null,g[is]=null)):sr(c)}}}function rs(c){return c in go?go[c]:go[c]="on"+c}function Yh(c,g){if(c.da)c=!0;else{g=new De(g,this);var _=c.listener,A=c.ha||c.src;c.fa&&na(c),c=_.call(A,g)}return c}function ia(c){return c=c[is],c instanceof Ti?c:null}var _o="__closure_events_fn_"+(1e9*Math.random()>>>0);function mu(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(g){return c.handleEvent(g)}),c[_o])}function lt(){oe.call(this),this.i=new Ti(this),this.M=this,this.F=null}O(lt,oe),lt.prototype[Ct]=!0,lt.prototype.removeEventListener=function(c,g,_,A){yo(this,c,g,_,A)};function Fe(c,g){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new ie(g,c);else if(g instanceof ie)g.target=g.target||c;else{var U=g;g=new ie(A,c),N(g,U)}if(U=!0,_)for(var K=_.length-1;0<=K;K--){var se=g.g=_[K];U=ln(se,A,!0,g)&&U}if(se=g.g=c,U=ln(se,A,!0,g)&&U,U=ln(se,A,!1,g)&&U,_)for(K=0;K<_.length;K++)se=g.g=_[K],U=ln(se,A,!1,g)&&U}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],A=0;A<_.length;A++)sr(_[A]);delete c.g[g],c.h--}}this.F=null},lt.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},lt.prototype.L=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function ln(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,K=0;K<g.length;++K){var se=g[K];if(se&&!se.da&&se.capture==_){var Pe=se.listener,At=se.ha||se.src;se.fa&&ts(c.i,se),U=Pe.call(At,A)!==!1&&U}}return U&&!A.defaultPrevented}function Gt(c,g,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function pu(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,pu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Qh extends oe{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){oe.call(this),this.h=c,this.g={}}O(ss,oe);var as=[];function os(c){Ae(c.g,function(g,_){this.g.hasOwnProperty(_)&&na(g)},c),c.g={}}ss.prototype.N=function(){ss.aa.N.call(this),os(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,ra=m.JSON.parse,ls=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function vo(){}vo.prototype.h=null;function Eo(c){return c.h||(c.h=c.i())}function To(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){ie.call(this,"d")}O(Si,ie);function Ao(){ie.call(this,"c")}O(Ao,ie);var Fn={},So=null;function ar(){return So=So||new lt}Fn.La="serverreachability";function sa(c){ie.call(this,Fn.La,c)}O(sa,ie);function or(c){const g=ar();Fe(g,new sa(g))}Fn.STAT_EVENT="statevent";function gu(c,g){ie.call(this,Fn.STAT_EVENT,c),this.stat=g}O(gu,ie);function tt(c){const g=ar();Fe(g,new gu(g,c))}Fn.Ma="timingevent";function Tt(c,g){ie.call(this,Fn.Ma,c),this.size=g}O(Tt,ie);function pt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function bo(c,g,_,A,U,K){c.info(function(){if(c.g)if(K)for(var se="",Pe=K.split("&"),At=0;At<Pe.length;At++){var ke=Pe[At].split("=");if(1<ke.length){var Ot=ke[0];ke=ke[1];var St=Ot.split("_");se=2<=St.length&&St[1]=="type"?se+(Ot+"="+ke+"&"):se+(Ot+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+_+`
`+se})}function $h(c,g,_,A,U,K,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+_+`
`+K+" "+se})}function lr(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+us(c,_)+(A?" "+A:"")})}function yu(c,g){c.info(function(){return"TIMEOUT: "+g})}vn.prototype.info=function(){};function us(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var K=U[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return Vn(_)}catch{return g}}var ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Kn(){}O(Kn,vo),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Gn=new Kn;function Zt(c,g,_,A){this.j=c,this.i=g,this.l=_,this.R=A||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var wo={},aa={};function Mn(c,g,_){c.L=1,c.v=ms(un(g)),c.m=_,c.P=!0,wi(c,null)}function wi(c,g){c.F=Date.now(),cs(c),c.A=un(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),No(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ht,c.g=Vu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Qh(S(c.Y,c,c.g),c.O)),g=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(as[0]=U.toString()),U=as);for(var K=0;K<U.length;K++){var se=du(_,U[K],A||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),or(),bo(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const g=this.M;g&&Sn(c)==3?g.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const St=Sn(this.g);var g=this.g.Ba();const Vi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||wu(this.g)))){this.J||St!=4||g==7||(g==8||0>=Vi?or(3):or(2)),cr(this);var _=this.g.Z();this.X=_;t:if(_u(this)){var A=wu(this.g);c="";var U=A.length,K=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),Yn(this);var se="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(K&&g==U-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,$h(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,At=this.g;if((Pe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)lr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hs(this,_);else{this.o=!1,this.s=3,tt(12),Lt(this),Yn(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<se.length;)if(Ut=vu(this,se),Ut==aa){St==4&&(this.s=4,tt(14),_=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==wo){this.s=4,tt(15),lr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else lr(this.i,this.l,Ut,null),hs(this,Ut);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||se.length!=0||this.h.h||(this.s=1,tt(16),_=!1),this.o=this.o&&_,!_)lr(this.i,this.l,se,"[Invalid Chunked Response]"),Lt(this),Yn(this);else if(0<se.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),As(Ot),Ot.M=!0,tt(11))}}else lr(this.i,this.l,se,null),hs(this,se);St==4&&Lt(this),this.o&&!this.J&&(St==4?Ou(this.j,this):(this.o=!1,cs(this)))}else ef(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Lt(this),Yn(this)}}}catch{}finally{}};function _u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vu(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?aa:(_=Number(g.substring(_,A)),isNaN(_)?wo:(A+=1,A+_>g.length?aa:(g=g.slice(A,A+_),c.C=A+_,g)))}Zt.prototype.cancel=function(){this.J=!0,Lt(this)};function cs(c){c.S=Date.now()+c.I,Eu(c,c.I)}function Eu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(S(c.ba,c),g)}function cr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(yu(this.i,this.A),this.L!=2&&(or(),tt(17)),Lt(this),this.s=2,Yn(this)):Eu(this,this.S-c)};function Yn(c){c.j.G==0||c.J||Ou(c.j,c)}function Lt(c){cr(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,os(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function hs(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Ro(_.h,c))){if(!c.K&&Ro(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)_a(_),ga(_);else break e;ko(_),tt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=pt(S(_.Za,_),6e3));if(1>=la(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else xi(_,11)}else if((c.K||_.g==c)&&_a(_),!re(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let ke=U[g];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Ot=ke[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const St=ke[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const Vi=ke[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(A=1.5*Vi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ut=c.g;if(Ut){const ei=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var K=A.h;K.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ua(K,K.h),K.h=null))}if(A.D){const Uo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(A.ya=Uo,Ye(A.I,A.D,Uo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var se=c;if(A.qa=xu(A,A.J?A.ia:null,A.W),se.K){Jt(A.h,se);var Pe=se,At=A.L;At&&(Pe.I=At),Pe.B&&(cr(Pe),cs(Pe)),A.g=se}else Cu(A);0<_.i.length&&ya(_)}else ke[0]!="stop"&&ke[0]!="close"||xi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?xi(_,7):Mo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}or(4)}catch{}}var Tu=class{constructor(c,g){this.g=c,this.map=g}};function Ri(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function la(c){return c.h?1:c.g?c.g.size:0}function Ro(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ua(c,g){c.g?c.g.add(g):c.h=g}function Jt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ri.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Io(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return G(c.i)}function Xh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,A=0;A<_;A++)g.push(c[A]);return g}g=[],_=0;for(A in c)g[_++]=c[A];return g}function ca(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const A in c)g[_++]=A;return g}}}function Co(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ca(c),A=Xh(c),U=A.length,K=0;K<U;K++)g.call(void 0,A[K],_&&_[K],c)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var K=c[_].substring(0,A);U=c[_].substring(A+1)}else K=c[_];g(K,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function gt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gt){this.h=c.h,ds(this,c.j),this.o=c.o,this.g=c.g,hr(this,c.s),this.l=c.l;var g=c.i,_=new Ci;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ii(this,_),this.m=c.m}else c&&(g=String(c).match(fs))?(this.h=!1,ds(this,g[1]||"",!0),this.o=En(g[2]||""),this.g=En(g[3]||"",!0),hr(this,g[4]),this.l=En(g[5]||"",!0),Ii(this,g[6]||"",!0),this.m=En(g[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}gt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ps(g,Do,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ps(g,Do,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ps(_,_.charAt(0)=="/"?Zh:Oo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ps(_,ha)),c.join("")};function un(c){return new gt(c)}function ds(c,g,_){c.j=_?En(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function hr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ii(c,g,_){g instanceof Ci?(c.i=g,Su(c.i,c.h)):(_||(g=ps(g,Jh)),c.i=new Ci(g,c.h))}function Ye(c,g,_){c.i.set(g,_)}function ms(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function En(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Au),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Au(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Do=/[#\/\?@]/g,Oo=/[#\?:]/g,Zh=/[#\?]/g,Jh=/[#\?@]/g,ha=/#/g;function Ci(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Wh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Ci.prototype,r.add=function(c,g){Tn(this),this.i=null,c=Qn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Di(c,g){Tn(c),g=Qn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Oi(c,g){return Tn(c),g=Qn(c,g),c.g.has(g)}r.forEach=function(c,g){Tn(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(g,U,A,this)},this)},this)},r.na=function(){Tn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const U=c[A];for(let K=0;K<U.length;K++)_.push(g[A])}return _},r.V=function(c){Tn(this);let g=[];if(typeof c=="string")Oi(this,c)&&(g=g.concat(this.g.get(Qn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return Tn(this),this.i=null,c=Qn(this,c),Oi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function No(c,g,_){Di(c,g),0<_.length&&(c.i=null,c.g.set(Qn(c,g),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const K=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var U=K;se[A]!==""&&(U+="="+encodeURIComponent(String(se[A]))),c.push(U)}}return this.i=c.join("&")};function Qn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Su(c,g){g&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Di(this,A),No(this,U,_))},c)),c.j=g}function gs(c,g){const _=new vn;if(m.Image){const A=new Image;A.onload=P(An,_,"TestLoadImage: loaded",!0,g,A),A.onerror=P(An,_,"TestLoadImage: error",!1,g,A),A.onabort=P(An,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=P(An,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Pn(c,g){const _=new vn,A=new AbortController,U=setTimeout(()=>{A.abort(),An(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(U),K.ok?An(_,"TestPingServer: ok",!0,g):An(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),An(_,"TestPingServer: error",!1,g)})}function An(c,g,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function ys(){this.g=new ls}function $n(c,g,_){const A=_||"";try{Co(c,function(U,K){let se=U;y(U)&&(se=Vn(U)),g.push(A+K+"="+encodeURIComponent(se))})}catch(U){throw g.push(A+"type="+encodeURIComponent("_badmap")),U}}function fr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(fr,vo),fr.prototype.g=function(){return new Ni(this.l,this.j)},fr.prototype.i=function(c){return function(){return c}}({});function Ni(c,g){lt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Ni,lt),r=Ni.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Xn(this):Wn(this),this.readyState==3&&xo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Xn(this))},r.Qa=function(c){this.g&&(this.response=c,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vo(c){let g="";return Ae(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Dt(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Vo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,g,_))}function He(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(He,lt);var fa=/^https?$/i,_s=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?Eo(this.o):Eo(Gn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){bu(this,K);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())_.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(_s,g,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){bu(this,K)}};function bu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,da(c),Zn(c)}function da(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},r.bb=function(){ma(this)};function ma(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)Gt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=se===0){var U=String(c.D).match(fs)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!fa.test(U?U.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var K=2<Sn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",da(c)}}finally{Zn(c)}}}}function Zn(c,g){if(c.g){vs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ra(g)}};function wu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ef(c){const g={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(re(c[A]))continue;var _=M(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[U]||[];g[U]=K,K.push(_)}V(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function pa(c){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Es("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Es("baseRetryDelayMs",5e3,c),this.cb=Es("retryDelaySeedMs",1e4,c),this.Wa=Es("forwardChannelMaxRetries",2,c),this.wa=Es("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ri(c&&c.concurrentRequestLimit),this.Da=new ys,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=pa.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,A){tt(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=xu(this,null,this.W),ya(this)};function Mo(c){if(Ru(c),c.G==3){var g=c.U++,_=un(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",g),Ye(_,"TYPE","terminate"),Ts(c,_),g=new Zt(c,c.j,g),g.L=2,g.v=ms(un(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Vu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),cs(g)}Nu(c)}function ga(c){c.g&&(As(c),c.g.cancel(),c.g=null)}function Ru(c){ga(c),c.u&&(m.clearTimeout(c.u),c.u=null),_a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ya(c){if(!oa(c.h)&&!c.s){c.s=!0;var g=c.Ga;ae||D(),me||(ae(),me=!0),ze.add(g,c),c.B=0}}function tf(c,g){return la(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(S(c.Ga,c,g),Lo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Zt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(U.H=K,K=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Iu(this,U,g),_=un(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),Ts(this,_),K&&(this.O?g="headers="+encodeURIComponent(String(Vo(K)))+"&"+g:this.m&&Dt(_,this.m,K)),ua(this.h,U),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",g),Ye(_,"SID","null"),U.T=!0,Mn(U,_,null)):Mn(U,_,g),this.G=2}}else this.G==3&&(c?Po(this,c):this.i.length==0||oa(this.h)||Po(this))};function Po(c,g){var _;g?_=g.l:_=c.U++;const A=un(c.I);Ye(A,"SID",c.K),Ye(A,"RID",_),Ye(A,"AID",c.T),Ts(c,A),c.m&&c.o&&Dt(A,c.m,c.o),_=new Zt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Iu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ua(c.h,_),Mn(_,A,g)}function Ts(c,g){c.H&&Ae(c.H,function(_,A){Ye(g,A,_)}),c.l&&Co({},function(_,A){Ye(g,A,_)})}function Iu(c,g,_){_=Math.min(c.i.length,_);var A=c.l?S(c.l.Na,c.l,c):null;e:{var U=c.i;let K=-1;for(;;){const se=["count="+_];K==-1?0<_?(K=U[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Pe=!0;for(let At=0;At<_;At++){let ke=U[At].g;const Ot=U[At].map;if(ke-=K,0>ke)K=Math.max(0,U[At].g-100),Pe=!1;else try{$n(Ot,se,"req"+ke+"_")}catch{A&&A(Ot)}}if(Pe){A=se.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,A}function Cu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ae||D(),me||(ae(),me=!0),ze.add(g,c),c.v=0}}function ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(S(c.Fa,c),Lo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),ga(this),Du(this))};function As(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Du(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=un(c.qa);Ye(g,"RID","rpc"),Ye(g,"SID",c.K),Ye(g,"AID",c.T),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(g,"TO",c.ja),Ye(g,"TYPE","xmlhttp"),Ts(c,g),c.m&&c.o&&Dt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ms(un(g)),_.m=null,_.P=!0,wi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ga(this),ko(this),tt(19))};function _a(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ou(c,g){var _=null;if(c.g==g){_a(c),As(c),c.g=null;var A=2}else if(Ro(c.h,g))_=g.D,Jt(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;A=ar(),Fe(A,new Tt(A,_)),ya(c)}else Cu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(A==1&&tf(c,g)||A==2&&ko(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Lo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function xi(c,g){if(c.j.info("Error code "+g),g==2){var _=S(c.fb,c),A=c.Xa;const U=!A;A=new gt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ds(A,"https"),ms(A),U?gs(A.toString(),_):Pn(A.toString(),_)}else tt(2);c.G=0,c.l&&c.l.sa(g),Nu(c),Ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const g=Io(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function xu(c,g,_){var A=_ instanceof gt?un(_):new gt(_);if(A.g!="")g&&(A.g=g+"."+A.g),hr(A,A.s);else{var U=m.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var K=new gt(null);A&&ds(K,A),g&&(K.g=g),U&&hr(K,U),_&&(K.l=_),A=K}return _=c.D,g=c.ya,_&&g&&Ye(A,_,g),Ye(A,"VER",c.la),Ts(c,A),A}function Vu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new He(new fr({eb:_})):new He(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}r=Mu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function va(){}va.prototype.g=function(c,g){return new en(c,g)};function en(c,g){lt.call(this),this.g=new pa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!re(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Jn(this)}O(en,lt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Mo(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vn(c),c=_);g.i.push(new Tu(g.Ya++,c)),g.G==3&&ya(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,en.aa.N.call(this)};function Pu(c){Si.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}O(Pu,Si);function ku(){Ao.call(this),this.status=1}O(ku,Ao);function Jn(c){this.g=c}O(Jn,Mu),Jn.prototype.ua=function(){Fe(this.g,"a")},Jn.prototype.ta=function(c){Fe(this.g,new Pu(c))},Jn.prototype.sa=function(c){Fe(this.g,new ku)},Jn.prototype.ra=function(){Fe(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,i0=function(){return new va},n0=function(){return ar()},t0=Fn,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Wc=ur,bi.COMPLETE="complete",e0=bi,To.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Ol=To,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,JT=He}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",qv="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Qm("@firebase/firestore");function Qa(){return Gs.logLevel}function le(r,...e){if(Gs.logLevel<=Ve.DEBUG){const n=e.map(ap);Gs.debug(`Firestore (${ho}): ${r}`,...n)}}function tr(r,...e){if(Gs.logLevel<=Ve.ERROR){const n=e.map(ap);Gs.error(`Firestore (${ho}): ${r}`,...n)}}function Kr(r,...e){if(Gs.logLevel<=Ve.WARN){const n=e.map(ap);Gs.warn(`Firestore (${ho}): ${r}`,...n)}}function ap(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,r0(r,s,n)}function r0(r,e,n){let s=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||r0(e,o,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class kC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string",31837,{l:s}),new s0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class UC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new UC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function wm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=a0(),f=HC(u.encode(Gv(r,n)),u.encode(Gv(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function Gv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function HC(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function io(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="__name__";class ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=ai.isNumericId(e),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(e).compare(ai.extractNumericId(n)):wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class rt extends ai{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const qC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends ai{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return qC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kv}static keyField(){return new qt([Kv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(rt.fromString(e))}static fromName(e){return new ge(rt.fromString(e).popFirst(5))}static empty(){return new ge(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(r,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GC(r,e,n,s){if(e===!0&&s===!0)throw new de(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Yv(r){if(!ge.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function o0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function lp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function Gl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lp(r);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,e){const n={typeString:r};return e&&(n.value=e),n}function lu(r,e){if(!o0(r))throw new de(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new de(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=-62135596800,$v=1e6;class et{static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$v);return new et(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Qv)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:et._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,et._jsonSchema))return new et(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Et("string",et._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new et(0,0))}static max(){return new be(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function KC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new et(n+1,0):new et(n,s));return new Yr(o,ge.empty(),e)}function YC(r){return new Yr(r.readTime,r.key,Kl)}class Yr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Yr(be.min(),ge.empty(),Kl)}static max(){return new Yr(be.max(),ge.empty(),Kl)}}function QC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==$C)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function WC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Mh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=-1;function Ph(r){return r==null}function fh(r){return r===0&&1/r==-1/0}function ZC(r){return typeof r=="number"&&Number.isInteger(r)&&!fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="";function JC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Xv(e)),e=eD(r.get(n),e);return Xv(e)}function eD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case l0:n+="";break;default:n+=u}}return n}function Xv(r){return r+l0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Zs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function u0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(e){return new Zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class Zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new It(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new c0("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const tD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(qe(!!r,39018),typeof r=="string"){let e=0;const n=tD.exec(r);if(qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(r.seconds),nanos:mt(r.nanos)}}function mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $r(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="server_timestamp",f0="__type__",d0="__previous_value__",m0="__local_write_time__";function cp(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[f0])===null||n===void 0?void 0:n.stringValue)===h0}function kh(r){const e=r.mapValue.fields[d0];return cp(e)?kh(e):e}function Yl(r){const e=Qr(r.mapValue.fields[m0].timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,s,o,u,f,m,p,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const dh="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="__type__",iD="__max__",Bc={mapValue:{}},g0="__vector__",mh="value";function Xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cp(r)?4:sD(r)?9007199254740991:rD(r)?10:11:Ee(28295,{value:r})}function pi(r,e){if(r===e)return!0;const n=Xr(r);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qr(o.timestampValue),m=Qr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return $r(o.bytesValue).isEqual($r(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?fh(f)===fh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return io(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Wv(f)!==Wv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!pi(f[p],m[p])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function $l(r,e){return(r.values||[]).find(n=>pi(n,e))!==void 0}function ro(r,e){if(r===e)return 0;const n=Xr(r),s=Xr(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),p=mt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Jv(r.timestampValue,e.timestampValue);case 4:return Jv(Yl(r),Yl(e));case 5:return wm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=$r(u),p=$r(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ce(m[y],p[y]);if(E!==0)return E}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(mt(u.latitude),mt(f.latitude));return m!==0?m:Ce(mt(u.longitude),mt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return eE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const b=u.fields||{},S=f.fields||{},P=(m=b[mh])===null||m===void 0?void 0:m.arrayValue,O=(p=S[mh])===null||p===void 0?void 0:p.arrayValue,G=Ce(((y=P?.values)===null||y===void 0?void 0:y.length)||0,((E=O?.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:eE(P,O)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Bc.mapValue&&f===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(f===Bc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=wm(p[b],E[b]);if(S!==0)return S;const P=ro(m[p[b]],y[E[b]]);if(P!==0)return P}return Ce(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{le:n})}}function Jv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=Qr(r),s=Qr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function eE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ro(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function so(r){return Rm(r)}function Rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return $r(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Rm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Rm(n.fields[f])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function Zc(r){switch(Xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(r);return e?16+Zc(e):16;case 5:return 2*r.stringValue.length;case 6:return $r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Zc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Zs(s.fields,(u,f)=>{o+=u.length+Zc(f)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function Im(r){return!!r&&"integerValue"in r}function hp(r){return!!r&&"arrayValue"in r}function tE(r){return!!r&&"nullValue"in r}function nE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jc(r){return!!r&&"mapValue"in r}function rD(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[p0])===null||n===void 0?void 0:n.stringValue)===g0}function kl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Zs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=kl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function sD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=kl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Zs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Nn(kl(this.value))}}function y0(r){const e=[];return Zs(r.fields,(n,s)=>{const o=new qt([n]);if(Jc(s)){const u=y0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,be.min(),be.min(),be.min(),Nn.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,be.min(),be.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,be.min(),be.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function iE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=ro(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function rE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function aD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{}class Rt extends _0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new lD(e,n,s):n==="array-contains"?new hD(e,s):n==="in"?new fD(e,s):n==="not-in"?new dD(e,s):n==="array-contains-any"?new mD(e,s):new Rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new uD(e,s):new cD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends _0{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new gi(e,n)}matches(e){return v0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function v0(r){return r.op==="and"}function E0(r){return oD(r)&&v0(r)}function oD(r){for(const e of r.filters)if(e instanceof gi)return!1;return!0}function Cm(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+so(r.value);if(E0(r))return r.filters.map(e=>Cm(e)).join(",");{const e=r.filters.map(n=>Cm(n)).join(",");return`${r.op}(${e})`}}function T0(r,e){return r instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)}(r,e):r instanceof gi?function(s,o){return o instanceof gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&T0(f,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function A0(r){return r instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`}(r):r instanceof gi?function(n){return n.op.toString()+" {"+n.getFilters().map(A0).join(" ,")+"}"}(r):"Filter"}class lD extends Rt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class uD extends Rt{constructor(e,n){super(e,"in",n),this.keys=S0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cD extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=S0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function S0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class hD extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hp(n)&&$l(n.arrayValue,this.value)}}class fD extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class dD extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$l(this.value.arrayValue,n)}}class mD extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>$l(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Pe=null}}function sE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new pD(r,e,n,s,o,u,f)}function fp(r){const e=we(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Cm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>so(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>so(s)).join(",")),e.Pe=n}return e.Pe}function dp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!aD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!T0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!rE(r.startAt,e.startAt)&&rE(r.endAt,e.endAt)}function Dm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function gD(r,e,n,s,o,u,f,m){return new Lh(r,e,n,s,o,u,f,m)}function mp(r){return new Lh(r)}function aE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yD(r){return r.collectionGroup!==null}function Ll(r){const e=we(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new gh(u,s))}),n.has(qt.keyField().canonicalString())||e.Te.push(new gh(qt.keyField(),s))}return e.Te}function ci(r){const e=we(r);return e.Ie||(e.Ie=_D(e,Ll(r))),e.Ie}function _D(r,e){if(r.limitType==="F")return sE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gh(o.field,u)});const n=r.endAt?new ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ph(r.startAt.position,r.startAt.inclusive):null;return sE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Om(r,e,n){return new Lh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Uh(r,e){return dp(ci(r),ci(e))&&r.limitType===e.limitType}function b0(r){return`${fp(ci(r))}|lt:${r.limitType}`}function $a(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>A0(o)).join(", ")}]`),Ph(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>so(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>so(o)).join(",")),`Target(${s})`}(ci(r))}; limitType=${r.limitType})`}function jh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ll(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=iE(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Ll(s),o)||s.endAt&&!function(f,m,p){const y=iE(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Ll(s),o))}(r,e)}function vD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function w0(r){return(e,n)=>{let s=!1;for(const o of Ll(r)){const u=ED(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function ED(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?ro(p,y):Ee(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new at(ge.comparator);function nr(){return TD}const R0=new at(ge.comparator);function Nl(...r){let e=R0;for(const n of r)e=e.insert(n.key,n);return e}function I0(r){let e=R0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function js(){return Ul()}function C0(){return Ul()}function Ul(){return new Js(r=>r.toString(),(r,e)=>r.isEqual(e))}const AD=new at(ge.comparator),SD=new It(ge.comparator);function Me(...r){let e=SD;for(const n of r)e=e.add(n);return e}const bD=new It(Ce);function wD(){return bD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function D0(r){return{integerValue:""+r}}function RD(r,e){return ZC(e)?D0(e):pp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function ID(r,e,n){return r instanceof yh?function(o,u){const f={fields:{[f0]:{stringValue:h0},[m0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cp(u)&&(u=kh(u)),u&&(f.fields[d0]=u),{mapValue:f}}(n,e):r instanceof Xl?N0(r,e):r instanceof Wl?x0(r,e):function(o,u){const f=O0(o,u),m=oE(f)+oE(o.Ee);return Im(f)&&Im(o.Ee)?D0(m):pp(o.serializer,m)}(r,e)}function CD(r,e,n){return r instanceof Xl?N0(r,e):r instanceof Wl?x0(r,e):n}function O0(r,e){return r instanceof _h?function(s){return Im(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class yh extends zh{}class Xl extends zh{constructor(e){super(),this.elements=e}}function N0(r,e){const n=V0(e);for(const s of r.elements)n.some(o=>pi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Wl extends zh{constructor(e){super(),this.elements=e}}function x0(r,e){let n=V0(e);for(const s of r.elements)n=n.filter(o=>!pi(o,s));return{arrayValue:{values:n}}}class _h extends zh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function oE(r){return mt(r.integerValue||r.doubleValue)}function V0(r){return hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function DD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Xl&&o instanceof Xl||s instanceof Wl&&o instanceof Wl?io(s.elements,o.elements,pi):s instanceof _h&&o instanceof _h?pi(s.Ee,o.Ee):s instanceof yh&&o instanceof yh}(r.transform,e.transform)}class OD{constructor(e,n){this.version=e,this.transformResults=n}}class Wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bh{}function M0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new k0(r.key,Wi.none()):new uu(r.key,r.data,Wi.none());{const n=r.data,s=Nn.empty();let o=new It(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ea(r.key,s,new zn(o.toArray()),Wi.none())}}function ND(r,e,n){r instanceof uu?function(o,u,f){const m=o.value.clone(),p=uE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ea?function(o,u,f){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=uE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(P0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function jl(r,e,n,s){return r instanceof uu?function(u,f,m,p){if(!eh(u.precondition,f))return m;const y=u.value.clone(),E=cE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof ea?function(u,f,m,p){if(!eh(u.precondition,f))return m;const y=cE(u.fieldTransforms,p,f),E=f.data;return E.setAll(P0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return eh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function xD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=O0(s.transform,o||null);u!=null&&(n===null&&(n=Nn.empty()),n.set(s.field,u))}return n||null}function lE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&io(s,o,(u,f)=>DD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends Bh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ea extends Bh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function P0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function uE(r,e,n){const s=new Map;qe(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,CD(f,m,n[o]))}return s}function cE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ID(u,f,e))}return s}class k0 extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VD extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ND(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=C0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=M0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,(n,s)=>lE(n,s))&&io(this.baseMutations,e.baseMutations,(n,s)=>lE(n,s))}}class gp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return AD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new gp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function LD(r){switch(r){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function L0(r){if(r===void 0)return tr("GRPC error has no .code"),te.UNKNOWN;switch(r){case vt.OK:return te.OK;case vt.CANCELLED:return te.CANCELLED;case vt.UNKNOWN:return te.UNKNOWN;case vt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case vt.INTERNAL:return te.INTERNAL;case vt.UNAVAILABLE:return te.UNAVAILABLE;case vt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case vt.NOT_FOUND:return te.NOT_FOUND;case vt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case vt.ABORTED:return te.ABORTED;case vt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case vt.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new qr([4294967295,4294967295],0);function hE(r){const e=a0().encode(r),n=new ZT;return n.update(e),new Uint8Array(n.digest())}function fE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qr([n,s],0),new qr([o,u],0)]}class yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(s<0)throw new xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=qr.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(qr.fromNumber(s)));return o.compare(UD)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=hE(e),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new yp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.fe===0)return;const n=hE(e),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hh(be.min(),o,new at(Ce),nr(),Me())}}class cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class U0{constructor(e,n){this.targetId=e,this.De=n}}class j0{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class dE{constructor(){this.ve=0,this.Ce=mE(),this.Fe=Ft.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),n=Me(),s=Me();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new cu(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=mE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class jD{constructor(e){this.We=e,this.Ge=new Map,this.ze=nr(),this.je=Hc(),this.Je=Hc(),this.He=new at(Ce)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(Dm(u))if(s===0){const f=new ge(u.path);this.Xe(n,f,Xt.newNoDocument(f,be.min()))}else qe(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const m=this._t(e),p=m?this.ut(m,e,f):1;if(p!==0){this.rt(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,y)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=$r(s).toUint8Array()}catch(p){if(p instanceof c0)return Kr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yp(f,o,u)}catch(p){return Kr(p instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.We.lt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,f)=>{const m=this.st(f);if(m){if(u.current&&Dm(m.target)){const p=new ge(m.target.path);this.Tt(p).has(f)||this.It(f,p)||this.Xe(f,p,Xt.newNoDocument(p,e))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let s=Me();this.Je.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(e));const o=new Hh(e,n,this.He,this.ze,s);return this.ze=nr(),this.je=Hc(),this.Je=Hc(),this.He=new at(Ce),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new dE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new It(Ce),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new It(Ce),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new dE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new at(ge.comparator)}function mE(){return new at(ge.comparator)}const zD={asc:"ASCENDING",desc:"DESCENDING"},BD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HD={and:"AND",or:"OR"};class qD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nm(r,e){return r.useProto3Json||Ph(e)?e:{value:e}}function vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function FD(r,e){return vh(r,e.toTimestamp())}function hi(r){return qe(!!r,49232),be.fromTimestamp(function(n){const s=Qr(n);return new et(s.seconds,s.nanos)}(r))}function _p(r,e){return xm(r,e).canonicalString()}function xm(r,e){const n=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function B0(r){const e=rt.fromString(r);return qe(K0(e),10190,{key:e.toString()}),e}function Vm(r,e){return _p(r.databaseId,e.path)}function lm(r,e){const n=B0(e);if(n.get(1)!==r.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(q0(n))}function H0(r,e){return _p(r.databaseId,e)}function GD(r){const e=B0(r);return e.length===4?rt.emptyPath():q0(e)}function Mm(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function q0(r){return qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function pE(r,e,n){return{name:Vm(r,e),fields:n.value.mapValue.fields}}function KD(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(qe(E===void 0||typeof E=="string",58123),Ft.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Ft.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?te.UNKNOWN:L0(y.code);return new de(E,y.message||"")}(f);n=new j0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lm(r,s.document.name),u=hi(s.document.updateTime),f=s.document.createTime?hi(s.document.createTime):be.min(),m=new Nn({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new th(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lm(r,s.document),u=s.readTime?hi(s.readTime):be.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lm(r,s.document),u=s.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new kD(o,u),m=s.targetId;n=new U0(m,f)}}return n}function YD(r,e){let n;if(e instanceof uu)n={update:pE(r,e.key,e.value)};else if(e instanceof k0)n={delete:Vm(r,e.key)};else if(e instanceof ea)n={update:pE(r,e.key,e.data),updateMask:n2(e.fieldMask)};else{if(!(e instanceof VD))return Ee(16599,{Rt:e.type});n={verify:Vm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof yh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _h)return{fieldPath:f.field.canonicalString(),increment:m.Ee};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:FD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),n}function QD(r,e){return r&&r.length>0?(qe(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?hi(o.updateTime):hi(u);return f.isEqual(be.min())&&(f=hi(u)),new OD(f,o.transformResults||[])}(n,e))):[]}function $D(r,e){return{documents:[H0(r,e.path)]}}function XD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=H0(r,o);const u=function(y){if(y.length!==0)return G0(gi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:Xa(S.field),direction:JD(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Nm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:n,parent:o}}function WD(r){let e=GD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const S=F0(b);return S instanceof gi&&E0(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(S=>function(O){return new gh(Wa(O.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Ph(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,P=b.values||[];return new ph(P,S)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const S=!b.before,P=b.values||[];return new ph(P,S)}(n.endAt)),gD(e,o,f,u,m,"F",p,y)}function ZD(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Wa(n.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Wa(n.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Wa(n.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(n){return Rt.create(Wa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return gi.create(n.compositeFilter.filters.map(s=>F0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(r):Ee(30097,{filter:r})}function JD(r){return zD[r]}function e2(r){return BD[r]}function t2(r){return HD[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function Wa(r){return qt.fromServerFormat(r.fieldPath)}function G0(r){return r instanceof Rt?function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:e2(n.op),value:n.value}}}(r):r instanceof gi?function(n){const s=n.getFilters().map(o=>G0(o));return s.length===1?s[0]:{compositeFilter:{op:t2(n.op),filters:s}}}(r):Ee(54877,{filter:r})}function n2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function K0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.gt=e}}function r2(r){const e=WD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.Dn=new a2}addToCollectionParentIndex(e,n){return this.Dn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Yr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class a2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y0=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Y0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ao(0)}static ur(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",o2=1048576;function _E([r,e],[n,s]){const o=Ce(r,n);return o===0?Ce(e,s):o}class l2{constructor(e){this.Tr=e,this.buffer=new It(_E),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_E(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class u2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){le(yE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){mo(n)?le(yE,"Ignoring IndexedDB error during garbage collection: ",n):await fo(n)}await this.Rr(3e5)})}}class c2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Mh.ue);const s=new l2(n);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(gE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Qa()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function h2(r,e){return new c2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&jl(s.mutation,o,zn.empty(),et.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Nl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=nr();const f=Ul(),m=function(){return Ul()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ea)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),jl(E.mutation,y,E.mutation.getFieldMask(),et.now())):f.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var b;return m.set(y,new d2(E,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ul();let o=new at((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||zn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=C0();E.forEach(S=>{if(!u.has(S)){const P=M0(n.get(S),s.get(S));P!==null&&b.set(S,P),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(js());let m=Kl,p=u;return f.next(y=>J.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Me())).next(E=>({batchId:m,changes:I0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Nl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Nl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const y=function(b,S){return new Lh(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let m=Nl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&jl(E.mutation,y,zn.empty(),et.now()),jh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return J.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:r2(o.bundledQuery),readTime:hi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.overlays=new at(ge.comparator),this.kr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=js();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.wt(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=js(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return J.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new PD(n,s));let u=this.kr.get(n);u===void 0&&(u=Me(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.qr=new It(Mt.Qr),this.$r=new It(Mt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new Mt(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new ge(new rt([])),s=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ge(new rt([])),s=new Mt(n,e),o=new Mt(n,e+1);let u=Me();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Mt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ge.comparator(e.key,n.key)||Ce(e.Hr,n.Hr)}static Ur(e,n){return Ce(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new It(Mt.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Yr=this.Yr.add(new Mt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?up:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const m=this.Zr(f.Hr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ce);return n.forEach(o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],m=>{s=s.add(m.Hr)})}),J.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new ge(u),0);let m=new It(Ce);return this.Yr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)},f),J.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return J.forEach(n.mutations,o=>{const u=new Mt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new Mt(n,0),o=this.Yr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.ni=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=nr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=nr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||QC(YC(E),s)<=0||(o.has(E.key)||jh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ri(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new E2(this)}getSize(e){return J.resolve(this.size)}}class E2 extends f2{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.persistence=e,this.ii=new Js(n=>fp(n),dp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.si=0,this.oi=new vp,this.targetCount=0,this._i=ao.ar()}forEachTarget(e,n){return this.ii.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),J.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.hr(n),J.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.ai={},this.overlays={},this.ui=new Mh(0),this.ci=!1,this.ci=!0,this.li=new y2,this.referenceDelegate=e(this),this.hi=new T2(this),this.indexManager=new s2,this.remoteDocumentCache=function(o){return new v2(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new i2(n),this.Ti=new p2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new _2(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new A2(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return J.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class A2 extends XC{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.Ai=new vp,this.Ri=null}static Vi(e){return new Ep(e)}get mi(){if(this.Ri)return this.Ri;throw Ee(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,s=>{const o=ge.fromPath(s);return this.fi(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return J.or([()=>J.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.gi=new Js(s=>JC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=h2(this,n)}static Vi(e,n){return new Eh(e,n)}Ii(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return J.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,f=>this.Sr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),J.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}Sr(e,n,s){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return eR()?8:WC(Wt())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new S2;return this.ws(e,n,f).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,f,m.size)})}).next(()=>u.result)}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(Qa()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Qa()<=Ve.DEBUG&&le("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Qa()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):J.resolve())}ps(e,n){if(aE(n))return J.resolve(null);let s=ci(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Om(n,null,"F"),s=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.gs.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.bs(n,m);return this.Ds(n,y,f,p.readTime)?this.ps(e,Om(n,null,"F")):this.vs(e,y,n,p)}))})))}ys(e,n,s,o){return aE(n)||o.isEqual(be.min())?J.resolve(null):this.gs.getDocuments(e,s).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?J.resolve(null):(Qa()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.vs(e,f,n,KC(o,Kl)).next(m=>m))})}bs(e,n){let s=new It(w0(e));return n.forEach((o,u)=>{jh(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return Qa()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",$a(n)),this.gs.getDocumentsMatchingQuery(e,n,Yr.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="LocalStore",w2=3e8;class R2{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new at(Ce),this.Ms=new Js(u=>fp(u),dp),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function I2(r,e,n,s){return new R2(r,e,n,s)}async function $0(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Me();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Bs:y,removedBatchIds:f,addedBatchIds:m}))})})}function C2(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const b=y.batch,S=b.keys();let P=J.resolve();return S.forEach(O=>{P=P.next(()=>E.getEntry(p,O)).next(G=>{const q=y.docVersions.get(O);qe(q!==null,48541),G.version.compareTo(q)<0&&(b.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Me();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function X0(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function D2(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.hi.addMatchingKeys(u,E.addedDocuments,b)));let P=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Ft.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(b,P),function(G,q,Y){return G.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=w2?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(S,P,E)&&m.push(n.hi.updateTargetData(u,P))});let p=nr(),y=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(O2(u,f,e.documentUpdates).next(E=>{p=E.Ls,y=E.ks})),!s.isEqual(be.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next(b=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Fs=o,u))}function O2(r,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=nr();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Ap,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Ls:f,ks:o}})}function N2(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=up),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function x2(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.hi.allocateTargetId(s).next(f=>(o=new zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Pm(r,e,n){const s=we(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!mo(f))throw f;le(Ap,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function vE(r,e,n){const s=we(r);let o=be.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const b=we(p),S=b.Ms.get(E);return S!==void 0?J.resolve(b.Fs.get(S)):b.hi.getTargetData(y,E)}(s,f,ci(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Me())).next(m=>(V2(s,vD(e),m),{documents:m,qs:u})))}function V2(r,e,n){let s=r.xs.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class EE{constructor(){this.activeTargetIds=wD()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M2{constructor(){this.Fo=new EE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new EE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="ConnectivityMonitor";class AE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){le(TE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){le(TE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function km(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",k2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L2{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=km(),m=this.Go(e,n.toUriEncodedString());le(um,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:y}=new URL(m),E=$s(y);return this.jo(e,m,p,s,E).then(b=>(le(um,`Received RPC '${e}' ${f}: `,b),b),b=>{throw Kr(um,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b})}Jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const s=k2[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class j2 extends L2{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const f=km();return new Promise((m,p)=>{const y=new JT;y.setWithCredentials(!0),y.listenOnce(e0.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Wc.NO_ERROR:const b=y.getResponseJson();le(Qt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case Wc.TIMEOUT:le(Qt,`RPC '${e}' ${f} timed out`),p(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const S=y.getStatus();if(le(Qt,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const O=P?.error;if(O&&O.status&&O.message){const G=function(Y){const re=Y.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(re)>=0?re:te.UNKNOWN}(O.status);p(new de(G,O.message))}else p(new de(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new de(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{c_:e,streamId:f,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{le(Qt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);le(Qt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)})}P_(e,n,s){const o=km(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=i0(),m=n0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Qt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);this.T_(b);let S=!1,P=!1;const O=new U2({Ho:q=>{P?le(Qt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(S||(le(Qt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),le(Qt,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Yo:()=>b.close()}),G=(q,Y,re)=>{q.listen(Y,ne=>{try{re(ne)}catch(ce){setTimeout(()=>{throw ce},0)}})};return G(b,Ol.EventType.OPEN,()=>{P||(le(Qt,`RPC '${e}' stream ${o} transport opened.`),O.s_())}),G(b,Ol.EventType.CLOSE,()=>{P||(P=!0,le(Qt,`RPC '${e}' stream ${o} transport closed`),O.__(),this.I_(b))}),G(b,Ol.EventType.ERROR,q=>{P||(P=!0,Kr(Qt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),O.__(new de(te.UNAVAILABLE,"The operation could not be completed")))}),G(b,Ol.EventType.MESSAGE,q=>{var Y;if(!P){const re=q.data[0];qe(!!re,16349);const ne=re,ce=ne?.error||((Y=ne[0])===null||Y===void 0?void 0:Y.error);if(ce){le(Qt,`RPC '${e}' stream ${o} received error:`,ce);const ue=ce.status;let Ae=function(R){const N=vt[R];if(N!==void 0)return L0(N)}(ue),V=ce.message;Ae===void 0&&(Ae=te.INTERNAL,V="Unknown error status: "+ue+" with message "+ce.message),P=!0,O.__(new de(Ae,V)),b.close()}else le(Qt,`RPC '${e}' stream ${o} received:`,re),O.a_(re)}}),G(m,t0.STAT_EVENT,q=>{q.stat===bm.PROXY?le(Qt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===bm.NOPROXY&&le(Qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(r){return new qD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="PersistentStream";class Z0{constructor(e,n,s,o,u,f,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new W0(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{e(()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return le(SE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(le(SE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z2 extends Z0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=KD(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?hi(f.readTime):be.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=Mm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Dm(p)?{documents:$D(u,p)}:{query:XD(u,p).Vt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=z0(u,f.resumeToken);const y=Nm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=vh(u,f.snapshotVersion.toTimestamp());const y=Nm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=ZD(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.k_(n)}}class B2 extends Z0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=QD(e.writeResults,e.commitTime),s=hi(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=Mm(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>YD(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{}class q2 extends H2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(e,xm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(te.UNKNOWN,u.toString())})}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Jo(e,xm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(te.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class F2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(tr(n),this._a=!1):le("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class G2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{ta(this)&&(le(Ks,"Restarting streams for network reachability change."),await async function(p){const y=we(p);y.Ia.add(4),await hu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Fh(y)}(this))})}),this.Aa=new F2(s,o)}}async function Fh(r){if(ta(r))for(const e of r.da)await e(!0)}async function hu(r){for(const e of r.da)await e(!1)}function J0(r,e){const n=we(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Rp(n)?wp(n):po(n).x_()&&bp(n,e))}function Sp(r,e){const n=we(r),s=po(n);n.Ta.delete(e),s.x_()&&eA(n,e),n.Ta.size===0&&(s.x_()?s.B_():ta(n)&&n.Aa.set("Unknown"))}function bp(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}po(r).H_(e)}function eA(r,e){r.Ra.$e(e),po(r).Y_(e)}function wp(r){r.Ra=new jD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Aa.aa()}function Rp(r){return ta(r)&&!po(r).M_()&&r.Ta.size>0}function ta(r){return we(r).Ia.size===0}function tA(r){r.Ra=void 0}async function K2(r){r.Aa.set("Online")}async function Y2(r){r.Ta.forEach((e,n)=>{bp(r,e)})}async function Q2(r,e){tA(r),Rp(r)?(r.Aa.la(e),wp(r)):r.Aa.set("Unknown")}async function $2(r,e,n){if(r.Aa.set("Online"),e instanceof j0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(s){le(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Th(r,s)}else if(e instanceof th?r.Ra.Ye(e):e instanceof U0?r.Ra.it(e):r.Ra.et(e),!n.isEqual(be.min()))try{const s=await X0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Ra.Pt(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(y);E&&u.Ta.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),eA(u,p);const b=new zr(E.target,p,y,E.sequenceNumber);bp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){le(Ks,"Failed to raise snapshot:",s),await Th(r,s)}}async function Th(r,e,n){if(!mo(e))throw e;r.Ia.add(1),await hu(r),r.Aa.set("Offline"),n||(n=()=>X0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(Ks,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await Fh(r)})}function nA(r,e){return e().catch(n=>Th(r,n,e))}async function Gh(r){const e=we(r),n=Wr(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:up;for(;X2(e);)try{const o=await N2(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,W2(e,o)}catch(o){await Th(e,o)}iA(e)&&rA(e)}function X2(r){return ta(r)&&r.Pa.length<10}function W2(r,e){r.Pa.push(e);const n=Wr(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function iA(r){return ta(r)&&!Wr(r).M_()&&r.Pa.length>0}function rA(r){Wr(r).start()}async function Z2(r){Wr(r).na()}async function J2(r){const e=Wr(r);for(const n of r.Pa)e.X_(n.mutations)}async function eO(r,e,n){const s=r.Pa.shift(),o=gp.from(s,e,n);await nA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Gh(r)}async function tO(r,e){e&&Wr(r).Z_&&await async function(s,o){if(function(f){return LD(f)&&f!==te.ABORTED}(o.code)){const u=s.Pa.shift();Wr(s).N_(),await nA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Gh(s)}}(r,e),iA(r)&&rA(r)}async function bE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),le(Ks,"RemoteStore received new credentials");const s=ta(n);n.Ia.add(3),await hu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Fh(n)}async function nO(r,e){const n=we(r);e?(n.Ia.delete(2),await Fh(n)):e||(n.Ia.add(2),await hu(n),n.Aa.set("Unknown"))}function po(r){return r.Va||(r.Va=function(n,s,o){const u=we(n);return u.ia(),new z2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:K2.bind(null,r),e_:Y2.bind(null,r),n_:Q2.bind(null,r),J_:$2.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Rp(r)?wp(r):r.Aa.set("Unknown")):(await r.Va.stop(),tA(r))})),r.Va}function Wr(r){return r.ma||(r.ma=function(n,s,o){const u=we(n);return u.ia(),new B2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:Z2.bind(null,r),n_:tO.bind(null,r),ea:J2.bind(null,r),ta:eO.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await Gh(r)):(await r.ma.stop(),r.Pa.length>0&&(le(Ks,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ip(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(r,e){if(tr("AsyncQueue",`${e}: ${r}`),mo(r))return new de(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Nl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.fa=new at(ge.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ee(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class oo{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new oo(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class rO{constructor(){this.queries=RE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=RE(),u.forEach((f,m)=>{for(const p of m.wa)p.onError(s)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function RE(){return new Js(r=>b0(r),Uh)}async function sO(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new iO,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Cp(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Dp(n)}async function aO(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(e);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function oO(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.wa)m.Ca(o)&&(s=!0);f.ya=o}}s&&Dp(n)}function lO(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function Dp(r){r.Da.forEach(e=>{e.next()})}var Lm,IE;(IE=Lm||(Lm={})).Fa="default",IE.Cache="cache";class uO{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.key=e}}class aA{constructor(e){this.key=e}}class cO{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=w0(e),this.eu=new no(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new wE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const S=o.get(E),P=jh(this.query,b)?b:null,O=!!S&&this.mutatedKeys.has(S.key),G=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let q=!1;S&&P?S.data.isEqual(P.data)?O!==G&&(s.track({type:3,doc:P}),q=!0):this.iu(S,P)||(s.track({type:2,doc:P}),q=!0,(p&&this.Xa(P,p)>0||y&&this.Xa(P,y)<0)&&(m=!0)):!S&&P?(s.track({type:0,doc:P}),q=!0):S&&!P&&(s.track({type:1,doc:S}),q=!0,(p||y)&&(m=!0)),q&&(P?(f=f.add(P),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:f,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const f=e.ru.pa();f.sort((E,b)=>function(P,O){const G=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{At:q})}};return G(P)-G(O)}(E.type,b.type)||this.Xa(E.doc,b.doc)),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,f.length!==0||y?{snapshot:new oo(this.query,e.eu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new wE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Me(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new aA(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new sA(s))}),n}uu(e){this.Ha=e.qs,this.Za=Me();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return oo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Op="SyncEngine";class hO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class fO{constructor(e){this.key=e,this.lu=!1}}class dO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new Js(m=>b0(m),Uh),this.Tu=new Map,this.Iu=new Set,this.du=new at(ge.comparator),this.Eu=new Map,this.Au=new vp,this.Ru={},this.Vu=new Map,this.mu=ao.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function mO(r,e,n=!0){const s=fA(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await oA(s,e,n,!0),o}async function pO(r,e){const n=fA(r);await oA(n,e,!0,!1)}async function oA(r,e,n,s){const o=await x2(r.localStore,ci(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await gO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&J0(r.remoteStore,o),m}async function gO(r,e,n,s,o){r.gu=(b,S,P)=>async function(G,q,Y,re){let ne=q.view.nu(Y);ne.Ds&&(ne=await vE(G.localStore,q.query,!1).then(({documents:V})=>q.view.nu(V,ne)));const ce=re&&re.targetChanges.get(q.targetId),ue=re&&re.targetMismatches.get(q.targetId)!=null,Ae=q.view.applyChanges(ne,G.isPrimaryClient,ce,ue);return DE(G,q.targetId,Ae._u),Ae.snapshot}(r,b,S,P);const u=await vE(r.localStore,e,!0),f=new cO(e,u.qs),m=f.nu(u.documents),p=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);DE(r,n,y._u);const E=new hO(e,n,f);return r.Pu.set(e,E),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),y.snapshot}async function yO(r,e,n){const s=we(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!Uh(f,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sp(s.remoteStore,o.targetId),Um(s,o.targetId)}).catch(fo)):(Um(s,o.targetId),await Pm(s.localStore,o.targetId,!0))}async function _O(r,e){const n=we(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sp(n.remoteStore,s.targetId))}async function vO(r,e,n){const s=RO(r);try{const o=await function(f,m){const p=we(f),y=et.now(),E=m.reduce((P,O)=>P.add(O.key),Me());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let O=nr(),G=Me();return p.Os.getEntries(P,E).next(q=>{O=q,O.forEach((Y,re)=>{re.isValidDocument()||(G=G.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,O)).next(q=>{b=q;const Y=[];for(const re of m){const ne=xD(re,b.get(re.key).overlayedDocument);ne!=null&&Y.push(new ea(re.key,ne,y0(ne.value.mapValue),Wi.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,Y,m)}).next(q=>{S=q;const Y=q.applyToLocalDocumentSet(b,G);return p.documentOverlayCache.saveOverlays(P,q.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:I0(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Ru[f.currentUser.toKey()];y||(y=new at(Ce)),y=y.insert(m,p),f.Ru[f.currentUser.toKey()]=y}(s,o.batchId,n),await fu(s,o.changes),await Gh(s.remoteStore)}catch(o){const u=Cp(o,"Failed to persist write");n.reject(u)}}async function lA(r,e){const n=we(r);try{const s=await D2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?qe(f.lu,14607):o.removedDocuments.size>0&&(qe(f.lu,42227),f.lu=!1))}),await fu(n,s,e)}catch(s){await fo(s)}}function CE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const S of b.wa)S.va(m)&&(y=!0)}),y&&Dp(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EO(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let f=new at(ge.comparator);f=f.insert(u,Xt.newNoDocument(u,be.min()));const m=Me().add(u),p=new Hh(be.min(),new Map,new at(Ce),f,m);await lA(s,p),s.du=s.du.remove(u),s.Eu.delete(e),Np(s)}else await Pm(s.localStore,e,!1).then(()=>Um(s,e,n)).catch(fo)}async function TO(r,e){const n=we(r),s=e.batch.batchId;try{const o=await C2(n.localStore,e);cA(n,s,null),uA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,o)}catch(o){await fo(o)}}async function AO(r,e,n){const s=we(r);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(qe(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);cA(s,e,n),uA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,o)}catch(o){await fo(o)}}function uA(r,e){(r.Vu.get(e)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(e)}function cA(r,e,n){const s=we(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Um(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||hA(r,s)})}function hA(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Sp(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),Np(r))}function DE(r,e,n){for(const s of n)s instanceof sA?(r.Au.addReference(s.key,e),SO(r,s)):s instanceof aA?(le(Op,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||hA(r,s.key)):Ee(19791,{yu:s})}function SO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(le(Op,"New document in limbo: "+n),r.Iu.add(s),Np(r))}function Np(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new ge(rt.fromString(e)),s=r.mu.next();r.Eu.set(s,new fO(n)),r.du=r.du.insert(n,s),J0(r.remoteStore,new zr(ci(mp(n.path)),s,"TargetPurposeLimboResolution",Mh.ue))}}async function fu(r,e,n){const s=we(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{f.push(s.gu(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=n?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Tp.Es(p.targetId,y);u.push(b)}}))}),await Promise.all(f),s.hu.J_(o),await async function(p,y){const E=we(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(y,S=>J.forEach(S.Is,P=>E.persistence.referenceDelegate.addReference(b,S.targetId,P)).next(()=>J.forEach(S.ds,P=>E.persistence.referenceDelegate.removeReference(b,S.targetId,P)))))}catch(b){if(!mo(b))throw b;le(Ap,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const P=E.Fs.get(S),O=P.snapshotVersion,G=P.withLastLimboFreeSnapshotVersion(O);E.Fs=E.Fs.insert(S,G)}}}(s.localStore,u))}async function bO(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){le(Op,"User change. New user:",e.toKey());const s=await $0(n.localStore,e);n.currentUser=e,function(u,f){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new de(te.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Bs)}}function wO(r,e){const n=we(r),s=n.Eu.get(e);if(s&&s.lu)return Me().add(s.key);{let o=Me();const u=n.Tu.get(e);if(!u)return o;for(const f of u){const m=n.Pu.get(f);o=o.unionWith(m.view.tu)}return o}}function fA(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EO.bind(null,e),e.hu.J_=oO.bind(null,e.eventManager),e.hu.pu=lO.bind(null,e.eventManager),e}function RO(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AO.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return I2(this.persistence,new b2,e.initialUser,this.serializer)}Du(e){return new Q0(Ep.Vi,this.serializer)}bu(e){return new M2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class IO extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){qe(this.persistence.referenceDelegate instanceof Eh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new u2(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Q0(s=>Eh.Vi(s,n),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>CE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bO.bind(null,this.syncEngine),await nO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rO}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),s=function(u){return new j2(u)}(e.databaseInfo);return function(u,f,m,p){return new q2(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new G2(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>CE(this.syncEngine,n,0),function(){return AE.C()?new AE:new P2}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const b=new dO(o,u,f,m,p,y);return E&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);le(Ks,"RemoteStore shutting down."),u.Ia.add(5),await hu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class DO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(Zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(Zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Cp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function hm(r,e){r.asyncQueue.verifyOperationInProgress(),le(Zr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await $0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Kr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{le("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Kr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function OE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await OO(r);le(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>bE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>bE(e.remoteStore,o)),r._onlineComponents=e}async function OO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Zr,"Using user provided OfflineComponentProvider");try{await hm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Kr("Error using user provided cache. Falling back to memory cache: "+n),await hm(r,new Ah)}}else le(Zr,"Using default OfflineComponentProvider"),await hm(r,new IO(void 0));return r._offlineComponents}async function dA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Zr,"Using user provided OnlineComponentProvider"),await OE(r,r._uninitializedComponentsProvider._online)):(le(Zr,"Using default OnlineComponentProvider"),await OE(r,new jm))),r._onlineComponents}function NO(r){return dA(r).then(e=>e.syncEngine)}async function xO(r){const e=await dA(r),n=e.eventManager;return n.onListen=mO.bind(null,e.syncEngine),n.onUnlisten=yO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_O.bind(null,e.syncEngine),n}function VO(r,e,n={}){const s=new Fr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new CO({next:S=>{E.Ou(),f.enqueueAndForget(()=>aO(u,b));const P=S.docs.has(m);!P&&S.fromCache?y.reject(new de(te.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&S.fromCache&&p&&p.source==="server"?y.reject(new de(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new uO(mp(m.path),E,{includeMetadataChanges:!0,ka:!0});return sO(u,b)}(await xO(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firestore.googleapis.com",xE=!0;class VE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pA,this.ssl=xE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:xE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Y0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o2)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new PC;switch(s.type){case"firstParty":return new jC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=NE.get(n);s&&(le("ComponentProvider","Removing Datastore"),NE.delete(n),s.terminate())}(this),Promise.resolve()}}function MO(r,e,n,s={}){var o;r=Gl(r,xp);const u=$s(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(Km(`https://${p}`),Ym("Firestore",!0)),f.host!==pA&&f.host!==p&&Kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Bs(y,m)&&(r._setSettings(y),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=$t.MOCK_USER;else{E=fT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $t(S)}r._authCredentials=new kC(new s0(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vp(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(lu(n,Pt._jsonSchema))return new Pt(e,s||null,new ge(rt.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Et("string",Pt._jsonSchemaVersion),referencePath:Et("string")};class Zl extends Vp{constructor(e,n,s){super(e,n,mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ge(e))}withConverter(e){return new Zl(this.firestore,e,this._path)}}function gA(r,e,...n){if(r=on(r),arguments.length===1&&(e=op.newId()),FC("doc","path",e),r instanceof xp){const s=rt.fromString(e,...n);return Yv(s),new Pt(r,null,new ge(s))}{if(!(r instanceof Pt||r instanceof Zl))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return Yv(s),new Pt(r.firestore,r instanceof Zl?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="AsyncQueue";class PE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new W0(this,"async_queue_retry"),this.oc=()=>{const s=cm();s&&le(ME,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Fr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!mo(e))throw e;le(ME,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,tr("INTERNAL UNHANDLED ERROR: ",kE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Ip.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ee(47125,{hc:kE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function kE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Mp extends xp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new PE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PE(e),this._firestoreClient=void 0,await e}}}function PO(r,e){const n=typeof r=="object"?r:Xm(),s=typeof r=="string"?r:dh,o=Oh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=uT("firestore");u&&MO(o,...u)}return o}function yA(r){if(r._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kO(r),r._firestoreClient}function kO(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new nD(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,mA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new DO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Ft.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Et("string",xn._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(e){if(lu(e,fi._jsonSchema))return new fi(e.latitude,e.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:Et("string",fi._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new di(e.vectorValues);throw new de(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Et("string",di._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=/^__.*__$/;class UO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}function vA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ec:r})}}class kp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Sh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(vA(this.Ec)&&LO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class jO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||qh(e)}Dc(e,n,s,o=!1){return new kp({Ec:e,methodName:n,bc:s,path:qt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zO(r){const e=r._freezeSettings(),n=qh(r._databaseId);return new jO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function BO(r,e,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);SA("Data must be an object, but it was:",f,s);const m=TA(s,f);let p,y;if(u.merge)p=new zn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=HO(e,b,n);if(!f.contains(S))throw new de(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);FO(E,S)||E.push(S)}p=new zn(E),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new UO(new Nn(m),p,y)}function EA(r,e){if(AA(r=on(r)))return SA("Unsupported field value:",e,r),TA(r,e);if(r instanceof _A)return function(s,o){if(!vA(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=EA(m,o.yc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=on(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=et.fromDate(s);return{timestampValue:vh(o.serializer,u)}}if(s instanceof et){const u=new et(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vh(o.serializer,u)}}if(s instanceof fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:z0(o.serializer,s._byteString)};if(s instanceof Pt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof di)return function(f,m){return{mapValue:{fields:{[p0]:{stringValue:g0},[mh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return pp(m.serializer,y)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${lp(s)}`)}(r,e)}function TA(r,e){const n={};return u0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(r,(s,o)=>{const u=EA(o,e.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function AA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof et||r instanceof fi||r instanceof xn||r instanceof Pt||r instanceof _A||r instanceof di)}function SA(r,e,n){if(!AA(n)||!o0(n)){const s=lp(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function HO(r,e,n){if((e=on(e))instanceof Pp)return e._internalPath;if(typeof e=="string")return bA(r,e);throw Sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const qO=new RegExp("[~\\*/\\[\\]]");function bA(r,e,n){if(e.search(qO)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Pp(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Sh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(te.INVALID_ARGUMENT,m+r+p)}function FO(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(RA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GO extends wA{data(){return super.data()}}function RA(r,e){return typeof e=="string"?bA(r,e):e instanceof Pp?e._internalPath:e._delegate._internalPath}class KO{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>mt(f.doubleValue));return new di(u)}convertGeoPoint(e){return new fi(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);qe(K0(s),9688,{name:e});const o=new Ql(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zs extends wA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(RA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:Et("string",zs._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class nh extends zs{data(e={}){return super.data(e)}}class zl{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Vl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new nh(this._firestore,this._userDataWriter,s.key,s,new Vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new nh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:QO(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(r){r=Gl(r,Pt);const e=Gl(r.firestore,Mp);return VO(yA(e),r._key).then(n=>JO(e,r,n))}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:Et("string",zl._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class XO extends KO{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function WO(r,e,n){r=Gl(r,Pt);const s=Gl(r.firestore,Mp),o=YO(r.converter,e);return ZO(s,[BO(zO(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Wi.none())])}function ZO(r,e){return function(s,o){const u=new Fr;return s.asyncQueue.enqueueAndForget(async()=>vO(await NO(s),o,u)),u.promise}(yA(r),e)}function JO(r,e,n){const s=n.docs.get(e._key),o=new XO(r);return new zs(r,o,e._key,s,new Vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ho=o})(Xs),Hs(new Gr("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Mp(new LC(s.getProvider("auth-internal")),new zC(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),oi(Hv,qv,e),oi(Hv,qv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="firebasestorage.googleapis.com",eN="storageBucket",tN=2*60*1e3,nN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends vi{constructor(e,n,s=0){super(fm(e),`Firebase Storage: ${n} (${fm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ei.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yi||(yi={}));function fm(r){return"storage/"+r}function iN(){const r="An unknown error occurred, please check the error payload for server response.";return new Ei(yi.UNKNOWN,r)}function rN(){return new Ei(yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sN(){return new Ei(yi.CANCELED,"User canceled the upload/download.")}function aN(r){return new Ei(yi.INVALID_URL,"Invalid URL '"+r+"'.")}function oN(r){return new Ei(yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function LE(r){return new Ei(yi.INVALID_ARGUMENT,r)}function CA(){return new Ei(yi.APP_DELETED,"The Firebase app was deleted.")}function lN(r){return new Ei(yi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(s.path==="")return s;throw oN(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function y(ce){ce.path_=decodeURIComponent(ce.path)}const E="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",P=new RegExp(`^https?://${b}/${E}/b/${o}/o${S}`,"i"),O={bucket:1,path:3},G=n===IA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,q="([^?#]*)",Y=new RegExp(`^https?://${G}/${o}/${q}`,"i"),ne=[{regex:m,indices:p,postModify:u},{regex:P,indices:O,postModify:y},{regex:Y,indices:{bucket:1,path:2},postModify:y}];for(let ce=0;ce<ne.length;ce++){const ue=ne[ce],Ae=ue.regex.exec(e);if(Ae){const V=Ae[ue.indices.bucket];let w=Ae[ue.indices.path];w||(w=""),s=new Bn(V,w),ue.postModify(s);break}}if(s==null)throw aN(e);return s}}class uN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let y=!1;function E(...q){y||(y=!0,e.apply(null,q))}function b(q){o=setTimeout(()=>{o=null,r(P,p())},q)}function S(){u&&clearTimeout(u)}function P(q,...Y){if(y){S();return}if(q){S(),E.call(null,q,...Y);return}if(p()||f){S(),E.call(null,q,...Y);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,b(ne)}let O=!1;function G(q){O||(O=!0,S(),!y&&(o!==null?(q||(m=2),clearTimeout(o),b(0)):q||(m=1)))}return b(0),u=setTimeout(()=>{f=!0,G(!0)},n),G}function hN(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(r){return r!==void 0}function UE(r,e,n,s){if(s<e)throw LE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw LE(`Invalid value for '${r}'. Expected ${n} or less.`)}function dN(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var bh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(bh||(bh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,s,o,u,f,m,p,y,E,b,S=!0,P=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,G)=>{this.resolve_=O,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Fc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===bh.NO_ERROR,p=u.getStatus();if(!m||mN(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===bh.ABORT;s(!1,new Fc(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new Fc(y,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());fN(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=iN();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?CA():sN();f(p)}else{const p=rN();f(p)}};this.canceled_?n(!1,new Fc(!1,null,!0)):this.backoffId_=cN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function gN(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function yN(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _N(r,e){e&&(r["X-Firebase-GMPID"]=e)}function vN(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function EN(r,e,n,s,o,u,f=!0,m=!1){const p=dN(r.urlParams),y=r.url+p,E=Object.assign({},r.headers);return _N(E,e),gN(E,n),yN(E,u),vN(E,s),new pN(y,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function AN(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new wh(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AN(this._location.path)}get storage(){return this._service}get parent(){const e=TN(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new wh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lN(e)}}function jE(r,e){const n=e?.[eN];return n==null?null:Bn.makeFromBucketSpec(n,r)}function SN(r,e,n,s={}){r.host=`${e}:${n}`;const o=$s(e);o&&(Km(`https://${r.host}/b`),Ym("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:fT(u,r.app.options.projectId))}class bN{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=IA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tN,this._maxUploadRetryTime=nN,this._requests=new Set,o!=null?this._bucket=Bn.makeFromBucketSpec(o,this._host):this._bucket=jE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=jE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new uN(CA());{const f=EN(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const zE="@firebase/storage",BE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="storage";function wN(r=Xm(),e){r=on(r);const s=Oh(r,DA).getImmediate({identifier:e}),o=uT("storage");return o&&RN(s,...o),s}function RN(r,e,n,s={}){SN(r,e,n,s)}function IN(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new bN(n,s,o,e,Xs)}function CN(){Hs(new Gr(DA,IN,"PUBLIC").setMultipleInstances(!0)),oi(zE,BE,""),oi(zE,BE,"esm2017")}CN();const DN={apiKey:"AIzaSyDWzgIXCa2XqpwCfrNolhOXaZuyXEy1ASw",authDomain:"alchemystic.firebaseapp.com",projectId:"alchemystic",storageBucket:"alchemystic.firebasestorage.app",messagingSenderId:"978006194677",appId:"1:978006194677:web:787ce64ce2994cb03648bc",measurementId:"G-L7Y54JX9J5"},Lp=pT(DN),Rh=VC(Lp),OA=PO(Lp);wN(Lp);const NA="/alchemystic-platform/assets/favicon-dwh2odYB.png";function Up(r){const e=rr(),[n,s]=Q.useState(null),o=Q.useRef(null),u=m=>{s(p=>p===m?null:m)};Q.useEffect(()=>{const m=p=>{o.current&&!o.current.contains(p.target)&&s(null)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const f=[{label:"About Us",link:"/about"},{label:"Protocols & Resources",dropdown:[{label:"Why Trauma?",link:"/protocols"},{label:"Emotional Reset",link:"/resources"},{label:"Depression, PTSD, CPTSD, Anxiety",link:"/resources"},{label:"Overwhelm, Hopelessness",link:"/resources"},{label:"Community Call",link:"/resources"}]},{label:"Education/Training",dropdown:[{label:"What's Ketamine?",link:"/courses"},{label:"PLACEHOLDER",link:"/courses"},{label:"PLACEHOLDER",link:"/courses"},{label:"PLACEHOLDER",link:"/courses"},{label:"External Resources",link:"/workshops"}]},{label:"Collaborators",dropdown:[{label:"What's Ketamine?",link:"/courses"},{label:"PLACEHOLDER",link:"/courses"},{label:"PLACEHOLDER",link:"/courses"},{label:"PLACEHOLDER",link:"/courses"},{label:"External Resources",link:"/workshops"}]},{label:"Donate",link:"/donate"},{label:"Contact Us",dropdown:[{label:"Email us",link:"/protocols"},{label:"Book an appointment",link:"/resources"}]}];return z.jsxs("nav",{className:"navbar",children:[z.jsxs("div",{className:"nav-left",children:[z.jsx("div",{onClick:()=>e("/"),style:{cursor:"pointer"},children:z.jsx("img",{src:NA,alt:"Logo",className:"logo"})}),f.map(m=>m.dropdown?z.jsxs("div",{className:"dropdown",ref:o,children:[z.jsx("button",{className:"nav-button",onClick:()=>u(m.label),children:m.label}),n===m.label&&z.jsx("div",{className:"dropdown-content",children:m.dropdown.map(p=>z.jsx("div",{className:"dropdown-item",onClick:()=>{s(null),e(p.link)},children:p.label},p.label))})]},m.label):z.jsx("button",{className:"nav-button",onClick:()=>e(m.link),children:m.label},m.label))]}),z.jsx("div",{className:"nav-right",children:z.jsx("button",{hidden:!r.isLogInButtonVisible,className:"login-button",onClick:()=>e("/app/login"),children:"Log In"})})]})}function ON(){const[r,e]=Q.useState(""),[n,s]=Q.useState(""),[o,u]=Q.useState(""),[f,m]=Q.useState(""),[p,y]=Q.useState(""),[E,b]=Q.useState({name:"",lastName:"",email:"",password:"",role:""}),S=rr(),P=async O=>{O.preventDefault();const G={};if(r.trim()||(G.name="required"),n.trim()||(G.lastName="required"),o.trim()||(G.email="required"),f.trim()||(G.password="required"),p||(G.role="Please select a role"),b(G),Object.keys(G).length>0)return;const{user:q}=await yI(Rh,o,f);await WO(gA(OA,"users",q.uid),{email:o,role:p,name:r,lastName:n}),S("/dashboard")};return z.jsxs("div",{className:"registerPageContainer",children:[z.jsx(Up,{isLogInButtonVisible:!0}),z.jsx("div",{className:"registerPageFormContainer",children:z.jsxs("form",{onSubmit:P,className:"registerForm",children:[z.jsxs("div",{className:"inputWithError",children:[z.jsx("input",{type:"text",value:r,onChange:O=>e(O.target.value),placeholder:"First Name"}),E.name&&z.jsx("span",{className:"errorText",children:E.name})]}),z.jsxs("div",{className:"inputWithError",children:[z.jsx("input",{type:"text",value:n,onChange:O=>s(O.target.value),placeholder:"Last Name"}),E.lastName&&z.jsx("span",{className:"errorText",children:E.lastName})]}),z.jsxs("div",{className:"inputWithError",children:[z.jsx("input",{type:"email",value:o,onChange:O=>u(O.target.value),placeholder:"Email"}),E.email&&z.jsx("span",{className:"errorText",children:E.email})]}),z.jsxs("div",{className:"inputWithError",children:[z.jsx("input",{type:"password",value:f,onChange:O=>m(O.target.value),placeholder:"Password"}),E.password&&z.jsx("span",{className:"errorText",children:E.password})]}),z.jsx("label",{className:"registerPageLabel",children:"I am a:"}),z.jsxs("div",{className:"roleRadioGroup",children:[z.jsxs("label",{className:p==="client"?"radioButton selected":"radioButton",children:[z.jsx("input",{type:"radio",value:"client",checked:p==="client",onChange:O=>y(O.target.value)}),"Client"]}),z.jsxs("label",{className:p==="practitioner"?"radioButton selected":"radioButton",children:[z.jsx("input",{type:"radio",value:"practitioner",checked:p==="practitioner",onChange:O=>y(O.target.value)}),"Practitioner"]}),z.jsxs("label",{className:p==="provider"?"radioButton selected":"radioButton",children:[z.jsx("input",{type:"radio",value:"provider",checked:p==="provider",onChange:O=>y(O.target.value)}),"Provider"]})]}),z.jsx("button",{type:"submit",className:"registerButton",children:"Register"})]})})]})}function NN(){const[r,e]=Q.useState({}),[n,s]=Q.useState(!0),o=(f,m)=>{const p=`${f}-${m}`;e(y=>({...y,[p]:!y[p]}))};if(Q.useEffect(()=>{const f=()=>{const p=window.innerWidth<window.innerHeight;s(window.innerWidth>=768&&!p)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),!n)return z.jsxs("div",{style:{textAlign:"center",marginTop:"50px"},children:[z.jsx("h2",{children:"Screen too small or unsupported"}),z.jsx("p",{children:"This app is optimized for desktop or tablet landscape views."})]});const u=[{title:"Clients",rows:[{header:"Healing can feel lonely, shallow, or overwhelming",content:"We provide personalized care pathways that adapt and evolve over the course of the healing journey"},{header:"Left without guidance after a dosing session",content:"Step-by-step integration tools, personalized guidance, and a real human support system — so breakthroughs don’t fade, they become real change"},{header:"No consistent support system",content:"The Healing Triangle that connects provider, practitioner, and client — and offers education for loved ones, so the entire support system is prepared"}]},{title:"Providers",rows:[{header:"Client drop off and outcomes are unclear",content:"Sync Engine provides measurable progress without expanding internal staffing resources"},{header:"Inconsistent retention and low client referrals",content:"Structured post-care engagement in order to lead to higher retention, stronger word-of-mouth, and measurable outcomes that boost your credibility"},{header:"Fragmented care",content:"Our system integrates into your existing workflow — delivering post-session integration, outcome tracking, and client collaboration"}]},{title:"Practitioners",rows:[{header:"Limited credibility and visibility",content:"We plug you into a care system that backs your practice with structured plans, training, collaboration hubs, and marketing strategy support for your practice"},{header:"Disconnected from clinical care and flying solo",content:"An Integration Engine to offer trauma-informed tools. Cognitive-to-Somatic map and trusted collaboration"},{header:"Burnout from holding it all alone",content:"A structured integration framework built around human support, so you’re not constantly reinventing the wheel or feeling drained"}]}];return z.jsxs("div",{className:"splash-container",children:[z.jsx(Up,{isLogInButtonVisible:!0}),z.jsxs("div",{className:"splash-scrollable-container",children:[z.jsx("div",{className:"splash-page-section splash-banner-section",children:z.jsx("div",{className:"banner-image-overlay",children:z.jsx("div",{className:"splash-text",children:z.jsxs("p",{id:"splash-page-welcome-banner-header-text",children:["Discover an innovative approach to healing with ketamine that is transformative, responsible, ",z.jsx("br",{})," and deeply human."]})})})}),z.jsx("div",{className:"splash-page-section",children:z.jsx("div",{className:"full-screen-grid-wrapper",children:z.jsxs("div",{className:"full-screen-grid",children:[z.jsx("div",{className:"grid-item image",children:z.jsx("img",{src:"triangle.jpeg",alt:"triangle"})}),z.jsxs("div",{className:"grid-item text",children:[z.jsx("h1",{children:"Our collaborative approach unlocks the full potential of healing with ketamine."}),z.jsx("p",{children:"While others focus on medication logistics, we are building a full-spectrum system that supports the entire healing arc — from preparation to journey work to integration — with measurable outcomes and human connection at the center."})]}),z.jsxs("div",{className:"grid-item text",children:[z.jsx("h1",{children:"We offer holistic support across the entire healing process."}),z.jsx("p",{children:"Our platform is designed to maximize healing across all steps of the process — from preparation and journeywork to integration."})]}),z.jsx("div",{className:"grid-item image",children:z.jsx("img",{src:"face-paint.jpeg",alt:"face-paint"})})]})})}),z.jsx("div",{className:"splash-page-section",children:z.jsx("div",{className:"splash-text",children:z.jsxs("div",{className:"our-vision",children:[z.jsxs("div",{className:"our-vision-half",children:[z.jsx("h1",{children:"OUR VISION"}),z.jsx("br",{}),z.jsx("br",{}),z.jsx("p",{children:"We envision a world where healing is not a moment in time but a guided process where ketamine-assisted treatments are provided in a holistic way to improve outcomes for clients and those who serve them."})]}),z.jsxs("div",{className:"our-vision-half",children:[z.jsx("h1",{children:"OUR MISSION"}),z.jsx("br",{}),z.jsx("br",{}),z.jsx("p",{children:"We seek to bridge the gap among practitioners, providers, and clients to enhance ketamine treatment outcomes. We deliver a collaborative ecosystem where all are supported, informed, and connected, thereby unlocking the full potential of ketamine therapy."})]})]})})}),z.jsxs("div",{className:"splash-page-section bridging-the-gap-in-care",children:[z.jsx("div",{className:"section-header",children:z.jsx("h1",{children:"How we are bridging the gap in care"})}),z.jsx("div",{className:"section-content",children:z.jsx("div",{className:"three-column-grid",children:u.map((f,m)=>z.jsxs("div",{className:"column",children:[z.jsx("h2",{className:"column-title",children:f.title}),f.rows.map((p,y)=>{const E=`${m}-${y}`,b=r[E]||!1;return z.jsxs("div",{className:`collapsible-row ${b?"open":""}`,children:[z.jsx("div",{className:"row-header",onClick:()=>o(m,y),children:p.header}),b&&z.jsx("div",{className:"row-content",children:p.content})]},E)})]},f.title))})})]}),z.jsx("div",{className:"splash-page-section",children:z.jsxs("div",{className:"team-section-wrapper",children:[z.jsx("h1",{className:"team-section-title",children:"Meet The Team"}),z.jsxs("div",{className:"team-section",children:[z.jsx("button",{className:"team-scroll-btn left-btn",onClick:()=>{document.getElementById("team-scroll").scrollBy({left:-1e3,behavior:"smooth"})},children:"◀"}),z.jsx("button",{className:"team-scroll-btn right-btn",onClick:()=>{document.getElementById("team-scroll").scrollBy({left:1e3,behavior:"smooth"})},children:"▶"}),z.jsx("div",{id:"team-scroll",className:"team-scroll-container",children:[{name:"Christina Cundiff",title:"Chief Executive Officer",role:"Facilitator and Certified Preparation, Integration, Wellness, and Nutrition Coach",img:"christina.jpeg"},{name:"Adriana Giraldo BSW, MHRLR",title:"Chief Operating & Program Officer",role:"Somatic Coach and Integration Mentor | Trauma-Informed | Mind-Body Nutrition Practitioner",img:"adriana.jpeg"},{name:"Jnaet Livingstone MA, ACC",title:"Chief Learning Officer",role:"IFS-Informed Integration Coach, Facilitator",img:"janet.jpeg"},{name:"Patricia Johnson",title:"Director of Research & Development",role:"Certified Preparation & Integration Coach, Om Kara Kriya Lineage Holder (Tantra)",img:"pj.jpeg"},{name:"Jimmy Shaffer",title:"Director of Education & Training",role:"",img:"jimmy.jpeg"}].map((f,m)=>z.jsxs("div",{className:"team-card",children:[z.jsx("img",{src:f.img,alt:f.name,className:"team-photo"}),z.jsx("h3",{className:"team-name",children:f.name}),z.jsx("p",{className:"team-role",children:f.title}),z.jsx("p",{className:"team-role",children:f.role})]},m))})]})]})}),z.jsxs("div",{className:"splash-page-footer",children:[z.jsxs("div",{className:"splash-page-footer-half",children:[z.jsx("a",{href:"/",children:"Terms & Conditions"}),z.jsx("a",{href:"/",children:"Medical Disclaimers"}),z.jsx("a",{href:"/",children:"Privacy Policy"}),z.jsx("a",{href:"/",children:"Contact Us"}),z.jsx("a",{href:"/",children:"Tech Support"})]}),z.jsxs("div",{className:"splash-page-footer-half",children:[z.jsx("a",{className:"splash-page-footer-link-icon",href:"https://www.facebook.com/profile.php?id=61575491257389",target:"_blank",rel:"noopener noreferrer",children:z.jsx("img",{src:"facebook.png"})}),z.jsx("a",{className:"splash-page-footer-link-icon",href:"https://www.linkedin.com/feed/update/urn:li:activity:7358844338610601986/",target:"_blank",rel:"noopener noreferrer",children:z.jsx("img",{src:"linkedin.png"})})]})]})]})]})}const xA=Q.createContext();function Ys(){return Q.useContext(xA)}function xN({children:r}){const[e,n]=Q.useState(null),[s,o]=Q.useState(null),[u,f]=Q.useState(null),[m,p]=Q.useState(null),[y,E]=Q.useState(!0);Q.useEffect(()=>{const S=TI(Rh,async P=>{if(n(P),P){const O=await $O(gA(OA,"users",P.uid));O.exists()&&(o(O.data().role),f(O.data().name),p(O.data().lastName))}else o(null),f(null),p(null);E(!1)});return()=>S()},[]);const b=async()=>{await AI(Rh),n(null)};return z.jsx(xA.Provider,{value:{currentUser:e,role:s,userName:u,userLastName:m,logout:b},children:!y&&r})}function VN(){const[r,e]=Q.useState(""),[n,s]=Q.useState(""),o=rr(),{currentUser:u}=Ys(),f=async m=>{m.preventDefault(),await _I(Rh,r,n),o("/dashboard")};return z.jsxs("div",{className:"loginPageContainer",children:[z.jsx(Up,{isLogInButtonVisible:!1}),z.jsx("div",{className:"logInPageWrapper",children:z.jsxs("form",{onSubmit:f,className:"loginForm",children:[z.jsx("input",{type:"email",className:"loginStyledInput",value:r,onChange:m=>e(m.target.value),placeholder:"Email",required:!0}),z.jsx("input",{type:"password",className:"loginStyledInput",value:n,onChange:m=>s(m.target.value),placeholder:"Password",required:!0}),z.jsx("button",{type:"submit",className:"loginButton",children:"Login"}),z.jsxs("div",{className:"registerPrompt",children:[z.jsx("span",{children:"Don’t have an account?"}),z.jsx("button",{type:"button",className:"registerLinkButton",onClick:()=>o("/app/register"),children:"Register"})]})]})})]})}function MN(){const{role:r}=Ys(),{currentUser:e}=Ys(),n=rr();return console.log(e.currentUser),Q.useEffect(()=>{r==="client"?n("/dashboard-client"):r==="practitioner"?n("/dashboard-practitioner"):r==="provider"&&n("/dashboard-provider")},[r]),z.jsx("p",{children:"Redirecting..."})}function PN(){const{currentUser:r,role:e,logout:n}=Ys(),s=rr(),o=async()=>{try{await n(),s("/")}catch(u){console.error("Failed to logout:",u)}};return r?e!="client"?z.jsx("div",{children:"Invalid Route: wrong user type"}):z.jsxs("div",{children:[z.jsx("h1",{children:"Welcome, Client!"}),z.jsx("p",{children:"This is your dashboard."}),z.jsx("button",{onClick:o,children:"Log out"})]}):z.jsx("div",{children:"Invalid Route: no user logged in"})}function kN(){const{currentUser:r,role:e,logout:n}=Ys(),s=rr(),o=async()=>{try{await n(),s("/")}catch(u){console.error("Failed to logout:",u)}};return r?e!="practitioner"?z.jsx("div",{children:"Invalid Route: wrong user type"}):z.jsxs("div",{children:[z.jsx("h1",{children:"Welcome, Practitioner!"}),z.jsx("p",{children:"This is your dashboard."}),z.jsx("button",{onClick:o,children:"Log out"})]}):z.jsx("div",{children:"Invalid Route: no user logged in"})}function LN(){const{currentUser:r,role:e,userName:n,userLastName:s,logout:o}=Ys(),u=rr(),f=async()=>{try{await o(),u("/")}catch(m){console.error("Failed to logout:",m)}};return z.jsxs("div",{className:"dashboard-navbar-wrapper",children:[z.jsx("div",{className:"dashboard-navbar-left",children:z.jsx("div",{onClick:()=>u("/"),style:{cursor:"pointer"},children:z.jsx("img",{src:NA,alt:"Logo",className:"logo"})})}),z.jsx("div",{className:"dashboard-navbar-right",children:z.jsx("button",{className:"dashboard-navbar-logout-button",onClick:f,children:"Log Out"})})]})}function UN(){const{currentUser:r,role:e,userName:n,userLastName:s,logout:o}=Ys();return rr(),r?e!="provider"?z.jsx("div",{children:"Invalid Route: wrong user type"}):z.jsxs("div",{className:"provider-dashboard-wrapper",children:[z.jsx(LN,{}),z.jsx("div",{className:"provider-dashboard",children:z.jsxs("h1",{children:["Welcome, ",n,"!"]})})]}):z.jsx("div",{children:"Invalid Route: no user logged in"})}function jN(){return z.jsx(xN,{children:z.jsx(Iw,{basename:"/alchemystic-platform/",children:z.jsxs(iw,{children:[z.jsx(Pr,{path:"/",element:z.jsx(NN,{})}),z.jsx(Pr,{path:"/app/login",element:z.jsx(VN,{})}),z.jsx(Pr,{path:"/app/register",element:z.jsx(ON,{})}),z.jsx(Pr,{path:"/dashboard",element:z.jsx(MN,{})}),z.jsx(Pr,{path:"/dashboard-client",element:z.jsx(PN,{})}),z.jsx(Pr,{path:"/dashboard-practitioner",element:z.jsx(kN,{})}),z.jsx(Pr,{path:"/dashboard-provider",element:z.jsx(UN,{})})]})})})}fb.createRoot(document.getElementById("root")).render(z.jsx(Q.StrictMode,{children:z.jsx(jN,{})}));
